(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+LPn":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){},i=e("pMnS"),u=e("gIcY"),a=e("dJrM"),r=e("seP3"),d=e("Wf4p"),c=e("Fzqc"),s=e("dWZg"),m=e("wFw1"),f=e("b716"),p=e("/VYK"),v=e("A7o+"),h=e("bujt"),g=e("UodH"),b=e("lLAP"),C=function(){function n(n){this.formBuilder=n,this.onSubmit=new t.EventEmitter}return n.prototype.ngOnInit=function(){this.lectureForm=this.formBuilder.group({name:[this.model?this.model.name:"",u.y.required],description:[this.model?this.model.description:"",u.y.required]})},n.prototype.formSubmit=function(){this.model||(this.model=new function(){}),this.model.name=this.lectureForm.value.name,this.model.description=this.lectureForm.value.description,this.onSubmit.emit(this.model)},n}(),_=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{max-width:600px}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]],data:{}});function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,i=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,2).onReset()&&o),"ngSubmit"===l&&(o=!1!==i.formSubmit()&&o),o},null,null)),t["\u0275did"](1,16384,null,0,u.A,[],null,null),t["\u0275did"](2,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](4,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](5,0,null,null,17,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](6,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,1,{_control:0}),t["\u0275qud"](335544320,2,{_placeholderChild:0}),t["\u0275qud"](335544320,3,{_labelChild:0}),t["\u0275qud"](603979776,4,{_errorChildren:1}),t["\u0275qud"](603979776,5,{_hintChildren:1}),t["\u0275qud"](603979776,6,{_prefixChildren:1}),t["\u0275qud"](603979776,7,{_suffixChildren:1}),(n()(),t["\u0275eld"](14,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,15)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,15).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,15)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,15)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,20)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,20)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,20)._onInput()&&o),o},null,null)),t["\u0275did"](15,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](17,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](19,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](20,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[1,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](23,0,null,null,17,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](24,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,8,{_control:0}),t["\u0275qud"](335544320,9,{_placeholderChild:0}),t["\u0275qud"](335544320,10,{_labelChild:0}),t["\u0275qud"](603979776,11,{_errorChildren:1}),t["\u0275qud"](603979776,12,{_hintChildren:1}),t["\u0275qud"](603979776,13,{_prefixChildren:1}),t["\u0275qud"](603979776,14,{_suffixChildren:1}),(n()(),t["\u0275eld"](32,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,33)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,33).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,33)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,33)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,38)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,38)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,38)._onInput()&&o),o},null,null)),t["\u0275did"](33,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](35,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](37,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](38,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[8,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](41,0,null,null,8,"p",[],null,null,null,null,null)),(n()(),t["\u0275eld"](42,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,h.d,h.b)),t["\u0275did"](43,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),t["\u0275ted"](44,0,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](46,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onCancel()&&t),t},h.d,h.b)),t["\u0275did"](47,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275ted"](48,0,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,2,0,e.lectureForm),n(l,17,0,"name"),n(l,20,0,t["\u0275unv"](l,20,0,t["\u0275nov"](l,21).transform("common.name"))),n(l,35,0,"description"),n(l,38,0,t["\u0275unv"](l,38,0,t["\u0275nov"](l,39).transform("common.description"))),n(l,43,0,!e.lectureForm.valid,"primary")},function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending),n(l,5,1,["standard"==t["\u0275nov"](l,6).appearance,"fill"==t["\u0275nov"](l,6).appearance,"outline"==t["\u0275nov"](l,6).appearance,"legacy"==t["\u0275nov"](l,6).appearance,t["\u0275nov"](l,6)._control.errorState,t["\u0275nov"](l,6)._canLabelFloat,t["\u0275nov"](l,6)._shouldLabelFloat(),t["\u0275nov"](l,6)._hideControlPlaceholder(),t["\u0275nov"](l,6)._control.disabled,t["\u0275nov"](l,6)._control.autofilled,t["\u0275nov"](l,6)._control.focused,"accent"==t["\u0275nov"](l,6).color,"warn"==t["\u0275nov"](l,6).color,t["\u0275nov"](l,6)._shouldForward("untouched"),t["\u0275nov"](l,6)._shouldForward("touched"),t["\u0275nov"](l,6)._shouldForward("pristine"),t["\u0275nov"](l,6)._shouldForward("dirty"),t["\u0275nov"](l,6)._shouldForward("valid"),t["\u0275nov"](l,6)._shouldForward("invalid"),t["\u0275nov"](l,6)._shouldForward("pending"),!t["\u0275nov"](l,6)._animationsEnabled]),n(l,14,1,[t["\u0275nov"](l,19).ngClassUntouched,t["\u0275nov"](l,19).ngClassTouched,t["\u0275nov"](l,19).ngClassPristine,t["\u0275nov"](l,19).ngClassDirty,t["\u0275nov"](l,19).ngClassValid,t["\u0275nov"](l,19).ngClassInvalid,t["\u0275nov"](l,19).ngClassPending,t["\u0275nov"](l,20)._isServer,t["\u0275nov"](l,20).id,t["\u0275nov"](l,20).placeholder,t["\u0275nov"](l,20).disabled,t["\u0275nov"](l,20).required,t["\u0275nov"](l,20).readonly,t["\u0275nov"](l,20)._ariaDescribedby||null,t["\u0275nov"](l,20).errorState,t["\u0275nov"](l,20).required.toString()]),n(l,23,1,["standard"==t["\u0275nov"](l,24).appearance,"fill"==t["\u0275nov"](l,24).appearance,"outline"==t["\u0275nov"](l,24).appearance,"legacy"==t["\u0275nov"](l,24).appearance,t["\u0275nov"](l,24)._control.errorState,t["\u0275nov"](l,24)._canLabelFloat,t["\u0275nov"](l,24)._shouldLabelFloat(),t["\u0275nov"](l,24)._hideControlPlaceholder(),t["\u0275nov"](l,24)._control.disabled,t["\u0275nov"](l,24)._control.autofilled,t["\u0275nov"](l,24)._control.focused,"accent"==t["\u0275nov"](l,24).color,"warn"==t["\u0275nov"](l,24).color,t["\u0275nov"](l,24)._shouldForward("untouched"),t["\u0275nov"](l,24)._shouldForward("touched"),t["\u0275nov"](l,24)._shouldForward("pristine"),t["\u0275nov"](l,24)._shouldForward("dirty"),t["\u0275nov"](l,24)._shouldForward("valid"),t["\u0275nov"](l,24)._shouldForward("invalid"),t["\u0275nov"](l,24)._shouldForward("pending"),!t["\u0275nov"](l,24)._animationsEnabled]),n(l,32,1,[t["\u0275nov"](l,37).ngClassUntouched,t["\u0275nov"](l,37).ngClassTouched,t["\u0275nov"](l,37).ngClassPristine,t["\u0275nov"](l,37).ngClassDirty,t["\u0275nov"](l,37).ngClassValid,t["\u0275nov"](l,37).ngClassInvalid,t["\u0275nov"](l,37).ngClassPending,t["\u0275nov"](l,38)._isServer,t["\u0275nov"](l,38).id,t["\u0275nov"](l,38).placeholder,t["\u0275nov"](l,38).disabled,t["\u0275nov"](l,38).required,t["\u0275nov"](l,38).readonly,t["\u0275nov"](l,38)._ariaDescribedby||null,t["\u0275nov"](l,38).errorState,t["\u0275nov"](l,38).required.toString()]),n(l,42,0,t["\u0275nov"](l,43).disabled||null,"NoopAnimations"===t["\u0275nov"](l,43)._animationMode),n(l,44,0,t["\u0275unv"](l,44,0,t["\u0275nov"](l,45).transform("lecture.action."+e.actionLabel))),n(l,46,0,t["\u0275nov"](l,47).disabled||null,"NoopAnimations"===t["\u0275nov"](l,47)._animationMode),n(l,48,0,t["\u0275unv"](l,48,0,t["\u0275nov"](l,49).transform("common.cancel")))})}var w=e("Mr+X"),S=e("SMsm"),F=e("jlZm"),k=e("Ip0R"),R=e("dRs7"),I=e("9It4"),O=e("v9Dh"),x=e("eDkP"),M=e("qAlS"),P=e("Ourk"),D=e("YlbQ"),T=e("PAif"),E=function(){function n(n,l,e){this.formBuilder=n,this.unitFormService=l,this.translate=e}return n.prototype.ngOnInit=function(){this.model=this.unitFormService.model,this.unitForm=this.unitFormService.unitForm,null!==this.model&&void 0!==this.model&&void 0===this.model.visible&&(this.model.visible=!0),this.unitForm.addControl("name",new u.h(null,u.y.required)),this.unitForm.addControl("description",new u.h(null)),this.unitForm.addControl("deadline",new u.h),this.unitForm.addControl("visible",new u.h),this.model&&this.unitForm.patchValue({name:this.model.name,description:this.model.description,deadline:this.model.deadline,visible:this.model.visible})},n.prototype.onDateChange=function(n){var l=n.value;l.setHours(23),l.setMinutes(59),this.unitForm.patchValue({deadline:l})},n}(),q=e("iiaH"),L=e("eVEz"),U=e("8rLf"),N=e("KuJm"),A=e("1x6Y"),j=Object.assign||function(n){for(var l,e=1,t=arguments.length;e<t;e++)for(var o in l=arguments[e])Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);return n},V=function(n,l,e,t){return new(e||(e=Promise))(function(o,i){function u(n){try{r(t.next(n))}catch(n){i(n)}}function a(n){try{r(t.throw(n))}catch(n){i(n)}}function r(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(u,a)}r((t=t.apply(n,l||[])).next())})},K=function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},B=function(){function n(n,l,e,t,o,i,u){this.snackBar=n,this.unitService=l,this.showProgress=e,this.dialog=t,this.unitFormService=o,this.formBuilder=i,this.fileIcon=u,this.allowedVideoMime=["video/mp4","video/webm","video/ogg","video/avi"]}return n.prototype.ngOnInit=function(){var n=this;this.model=this.unitFormService.model,this.lecture=this.unitFormService.lecture,this.course=this.unitFormService.course,this.unitFormService.headline="video"===this.model.fileUnitType?"Add Videos":"Add Files",this.unitFormService.unitForm.addControl("files",new u.e([])),this.unitFormService.unitForm.addControl("fileUnitType",new u.h(this.model.fileUnitType,u.y.required)),this.unitFormService.unitForm.get("fileUnitType").valueChanges.subscribe(function(l){l&&(n.model.fileUnitType=l)}),this.unitForm=this.unitFormService.unitForm,this.buildForm()},n.prototype.buildForm=function(){for(var n=0,l=this.model.files;n<l.length;n++)this.addFileToForm(l[n])},n.prototype.removeFile=function(n){var l=this.unitForm.controls.files.controls;l=l.filter(function(l){return l.value!==n.value}),this.unitForm.controls.files.controls=l},n.prototype.openAddFilesDialog=function(){return V(this,void 0,void 0,function(){var n=this;return K(this,function(l){switch(l.label){case 0:return[4,this.dialog.open(N.a,{maxWidth:"90vw",maxHeight:"90vh",minWidth:"50vw",disableClose:!0,data:{courseId:this.course._id,allowedMimeTypes:"video"!==this.model.fileUnitType?void 0:this.allowedVideoMime}})];case 1:return l.sent().afterClosed().subscribe(function(l){return V(n,void 0,void 0,function(){var n=this;return K(this,function(e){return l&&(l.forEach(function(l){var e=!1;n.unitForm.controls.files.controls.forEach(function(n){l._id===n.value._id&&(e=!0)}),e||n.addFileToForm(l)}),this.snackBar.openShort("Added files to unit")),[2]})})}),[2]}})})},n.prototype.testOnlyVideoFileTypes=function(){var n=this;return this.unitForm.controls.files.controls.find(function(l){return-1===n.allowedVideoMime.indexOf(l.value.mimeType)})},n.prototype.addFileToForm=function(n){var l=this.formBuilder.group({_id:new u.h,name:new u.h,link:new u.h,size:new u.h,mimeType:new u.h});n&&l.patchValue(j({},n)),this.unitForm.controls.files.push(l)},n}(),Z=e("o3x0"),$=t["\u0275crt"]({encapsulation:0,styles:[[".file-list-container[_ngcontent-%COMP%]{margin-top:1rem}.file-list-container[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]{padding-bottom:.5rem;display:table;width:100%;border-bottom:2px solid #e0e0e0}.file-list-container[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;width:25%;vertical-align:middle;padding:.5rem}.file-list-container[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   span.progress-bar[_ngcontent-%COMP%]{width:75%}.file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]{width:100%;display:table;border-collapse:collapse;margin-top:.5rem}.file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row[_ngcontent-%COMP%]{display:table-row;width:100%;border-bottom:1px solid #e0e0e0}.file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row.file-list-header[_ngcontent-%COMP%]{font-weight:700}.file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row[_ngcontent-%COMP%]   mat-action-row[_ngcontent-%COMP%], .file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;padding:.5rem}.file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row[_ngcontent-%COMP%]   mat-action-row.progress-col[_ngcontent-%COMP%], .file-list-container[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%]   .file-list-row[_ngcontent-%COMP%]   span.progress-col[_ngcontent-%COMP%]{width:50%}.file-list-container.uploaded-files[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-radio-button[_ngcontent-%COMP%]{margin:0 5px}"]],data:{}});function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","file-list-row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"span",[["class","filename"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](3,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](4,0,["",""])),(n()(),t["\u0275ted"](5,null,[""," "])),(n()(),t["\u0275eld"](6,0,null,null,2,"span",[["class","filesize"]],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),t["\u0275ppd"](8,1),(n()(),t["\u0275eld"](9,0,null,null,8,"mat-action-row",[["class","mat-action-row"]],null,null,null,null,null)),t["\u0275did"](10,16384,null,0,F.d,[],null,null),(n()(),t["\u0275eld"](11,0,null,null,6,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.removeFile(n.context.$implicit)&&t),t},h.d,h.b)),t["\u0275did"](12,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],{color:[0,"color"]},null),(n()(),t["\u0275eld"](13,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](14,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["delete"])),(n()(),t["\u0275ted"](16,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],function(n,l){n(l,3,0),n(l,12,0,"warn"),n(l,14,0)},function(n,l){var e=l.component;n(l,2,0,t["\u0275nov"](l,3).inline),n(l,4,0,e.fileIcon.fileToIcon(l.context.$implicit.value)),n(l,5,0,l.context.$implicit.value.name),n(l,7,0,t["\u0275unv"](l,7,0,n(l,8,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.value.size))),n(l,11,0,t["\u0275nov"](l,12).disabled||null,"NoopAnimations"===t["\u0275nov"](l,12)._animationMode),n(l,13,0,t["\u0275nov"](l,14).inline),n(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("common.delete")))})}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","file-list-container uploaded-files"],["formArrayName","files"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](1,212992,null,0,u.f,[[3,u.c],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.c,null,[u.f]),t["\u0275did"](3,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](4,0,null,null,12,"div",[["class","file-list"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,9,"div",[["class","file-list-row file-list-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](9,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](12,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](16,802816,null,0,k.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,1,0,"files"),n(l,16,0,e.unitForm.controls.files.controls)},function(n,l){n(l,0,0,t["\u0275nov"](l,3).ngClassUntouched,t["\u0275nov"](l,3).ngClassTouched,t["\u0275nov"](l,3).ngClassPristine,t["\u0275nov"](l,3).ngClassDirty,t["\u0275nov"](l,3).ngClassValid,t["\u0275nov"](l,3).ngClassInvalid,t["\u0275nov"](l,3).ngClassPending),n(l,7,0,t["\u0275unv"](l,7,0,t["\u0275nov"](l,8).transform("file.text.filename"))),n(l,10,0,t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform("file.text.filesize"))),n(l,13,0,t["\u0275unv"](l,13,0,t["\u0275nov"](l,14).transform("file.text.actions")))})}function W(n){return t["\u0275vid"](0,[t["\u0275pid"](0,R.a,[]),t["\u0275qud"](402653184,1,{generalInfo:0}),(n()(),t["\u0275eld"](2,0,null,null,26,null,null,null,null,function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,3).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,3).onReset()&&o),o},null,null)),t["\u0275did"](3,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](5,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](7,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](8,0,null,null,20,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",":"])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](12,16777216,null,null,16,"mat-radio-group",[["class","mat-radio-group"],["formControlName","fileUnitType"],["matTooltipPosition","above"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,19).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,19)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,19)._handleTouchend()&&o),o},null,null)),t["\u0275did"](13,1064960,null,1,I.b,[t.ChangeDetectorRef],{disabled:[0,"disabled"]},null),t["\u0275qud"](603979776,2,{_radios:1}),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[I.b]),t["\u0275did"](16,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](18,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](19,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](21,0,null,null,3,"mat-radio-button",[["class","mat-radio-button"],["value","video"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[1,"id",0]],[[null,"focus"]],function(n,l,e){var o=!0;return"focus"===l&&(o=!1!==t["\u0275nov"](n,22)._inputElement.nativeElement.focus()&&o),o},P.b,P.a)),t["\u0275did"](22,4440064,[[2,4]],0,I.a,[[2,I.b],t.ElementRef,t.ChangeDetectorRef,b.h,D.c,[2,m.a]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](23,0,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](25,0,null,null,3,"mat-radio-button",[["class","mat-radio-button"],["value","file"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[1,"id",0]],[[null,"focus"]],function(n,l,e){var o=!0;return"focus"===l&&(o=!1!==t["\u0275nov"](n,26)._inputElement.nativeElement.focus()&&o),o},P.b,P.a)),t["\u0275did"](26,4440064,[[2,4]],0,I.a,[[2,I.b],t.ElementRef,t.ChangeDetectorRef,b.h,D.c,[2,m.a]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](27,0,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,3,0,e.unitForm),n(l,7,0,e.unitForm.controls.files),n(l,13,0,e.testOnlyVideoFileTypes()),n(l,16,0,"fileUnitType",e.testOnlyVideoFileTypes()),n(l,19,0,"above",!e.testOnlyVideoFileTypes(),t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,19,2,t["\u0275nov"](l,20).transform("unit.cantSwitchToVideo")),"")),n(l,22,0,"video"),n(l,26,0,"file")},function(n,l){n(l,10,0,t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform("unit.viewAs"))),n(l,12,0,t["\u0275nov"](l,18).ngClassUntouched,t["\u0275nov"](l,18).ngClassTouched,t["\u0275nov"](l,18).ngClassPristine,t["\u0275nov"](l,18).ngClassDirty,t["\u0275nov"](l,18).ngClassValid,t["\u0275nov"](l,18).ngClassInvalid,t["\u0275nov"](l,18).ngClassPending),n(l,21,0,t["\u0275nov"](l,22).checked,t["\u0275nov"](l,22).disabled,"NoopAnimations"===t["\u0275nov"](l,22)._animationMode,t["\u0275nov"](l,22).id),n(l,23,0,t["\u0275unv"](l,23,0,t["\u0275nov"](l,24).transform("unit.video"))),n(l,25,0,t["\u0275nov"](l,26).checked,t["\u0275nov"](l,26).disabled,"NoopAnimations"===t["\u0275nov"](l,26)._animationMode,t["\u0275nov"](l,26).id),n(l,27,0,t["\u0275unv"](l,27,0,t["\u0275nov"](l,28).transform("unit.file")))})}var Y=e("gakQ"),H=e("BXrY"),J=(e("bZT0"),e("YqIF"),e("uzal"),e("nIAx")),Q=function(){function n(n,l,e,t,o,i){this.codeKataUnitService=n,this.unitService=l,this.snackBar=e,this.notificationService=t,this.unitFormService=o,this.codeKataValidationService=i,this.areaSeperator="//####################",this.example={definition:'// Task: Manipulate the targetSet, so it only contains the values "Hello" and "CodeKata"\n\nlet targetSet = new Set(["Hello", "there"]);',code:'// This is your code to validate this section. Only course Teachers and Admins can see this\ntargetSet.add("CodeKata");\ntargetSet.delete("there");',test:'// This is the Test Section use the validate function to test the students code\nvalidate();\n\nfunction validate() {\n\tconst result = targetSet.has("Hello") && targetSet.has("CodeKata") && targetSet.size === 2;\n\tif (result === true) {\n\t\tconsole.log("Well done, you solved this Kata");\n\t} else {\n\t\tconsole.log("Sorry mate, you need to try harder");\n\t}\n\treturn result;\n}'}}return n.prototype.ngOnInit=function(){var n=this;this.model=this.unitFormService.model,this.model.definition||this.model.code||this.model.test||(this.model.definition=this.example.definition,this.model.code=this.example.code,this.model.test=this.example.test),this.model.definition=this.model.definition?this.model.definition:"",this.model.code=this.model.code?this.model.code:"",this.model.test=this.model.test?this.model.test:"",this.unitForm=this.unitFormService.unitForm,this.unitFormService.headline="Code-Kata",this.wholeInputCode=this.model.definition+"\n"+this.areaSeperator+"\n"+this.model.code+"\n"+this.areaSeperator+"\n"+this.model.test,this.unitForm.addControl("wholeInputCode",new u.h(this.wholeInputCode)),this.unitForm.addControl("definition",new u.h(this.model.definition)),this.unitForm.addControl("code",new u.h(this.model.code)),this.unitForm.addControl("test",new u.h(this.model.test)),this.unitFormService.beforeSubmit=function(){return l=n,void 0,t=function(){var n;return function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(l){return this.validate()?(n=this.unitForm.controls.wholeInputCode.value.split("\n"+this.areaSeperator+"\n"),this.unitForm.patchValue({definition:n[0],code:n[1],test:n[2]}),[2,!0]):[2,!1]})},new((e=void 0)||(e=Promise))(function(n,o){function i(n){try{a(t.next(n))}catch(n){o(n)}}function u(n){try{a(t.throw(n))}catch(n){o(n)}}function a(l){l.done?n(l.value):new e(function(n){n(l.value)}).then(i,u)}a((t=t.apply(l,[])).next())});var l,e,t}},n.prototype.validate=function(){if(!this.validateStructure())return!1;var n=this.unitForm.controls.wholeInputCode.value;this.logs=void 0;var l=this.codeKataValidationService.validate(n);return this.logs=l.log,!0===l.result||void 0===l.result?(this.snackBar.openShort("Validation succesful"),!0):(this.snackBar.openShort("Validation failed"),!1)},n.prototype.validateStructure=function(){var n=(this.unitForm.controls.wholeInputCode.value.match(new RegExp("\n"+this.areaSeperator+"\n","gmi"))||[]).length;return n>2?(this.snackBar.openShort("There are too many area separators"),!1):n<2?(this.snackBar.openShort("There must 3 separated areas"),!1):this.unitForm.controls.wholeInputCode.value.match(new RegExp("function(.|\t)*validate\\(\\)(.|\n|\t)*{(.|\n|\t)*}","gmi"))?this.unitForm.controls.wholeInputCode.value.match(new RegExp("function(.|\t)*validate\\(\\)(.|\n|\t)*{(.|\n|\t)*return(.|\n|\t)*}","gmi"))?!!this.unitForm.controls.wholeInputCode.value.match(new RegExp("validate\\(\\);","gmi"))||(this.snackBar.openShort("The test section must call the validate function"),!1):(this.snackBar.openShort("The validate function must return something"),!1):(this.snackBar.openShort("The test section must contain a validate function"),!1)},n}(),X=t["\u0275crt"]({encapsulation:0,styles:[["ace-editor[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:1em;margin-left:1em;width:calc(100% - 1em)}.user-code-editor[_ngcontent-%COMP%]{min-height:15em}.logs-title[_ngcontent-%COMP%]{margin-top:.5em}pre[_ngcontent-%COMP%]{margin-top:.5em;margin-left:1em;font-size:.9em}"]],data:{}});function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","logs-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](3,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],null,function(n,l){var e=l.component;n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("code-kata.text.logs"))),n(l,4,0,e.logs)})}function ln(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{editor:0}),(n()(),t["\u0275eld"](1,0,null,null,24,"div",[["class","code-kata-unit-form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,2).onReset()&&o),o},null,null)),t["\u0275did"](2,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](4,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](5,0,null,null,12,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t["\u0275did"](6,16384,null,0,r.e,[],null,null),(n()(),t["\u0275eld"](7,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](8,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["info"])),(n()(),t["\u0275ted"](10,null,[" ",' "','". '])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](12,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](14,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["info"])),(n()(),t["\u0275ted"](16,null,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](18,0,null,null,5,"ace-editor",[["class","user-code-editor"],["formControlName","wholeInputCode"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Y.b,Y.a)),t["\u0275did"](19,245760,[[1,4],["codeEditor",4]],0,H.a,[t.ElementRef,t.NgZone],{readOnly:[0,"readOnly"],theme:[1,"theme"],mode:[2,"mode"]},null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[H.a]),t["\u0275did"](21,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](23,16384,null,0,u.s,[[4,u.r]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](25,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.unitForm),n(l,8,0),n(l,14,0),n(l,19,0,!1,"github","markdown"),n(l,21,0,"wholeInputCode"),n(l,25,0,e.logs)},function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending),n(l,5,0,"end"==t["\u0275nov"](l,6).align,t["\u0275nov"](l,6).id,null),n(l,7,0,t["\u0275nov"](l,8).inline),n(l,10,0,t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform("code-kata.information.info1")),e.areaSeperator),n(l,13,0,t["\u0275nov"](l,14).inline),n(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("code-kata.information.info2"))),n(l,18,0,t["\u0275nov"](l,23).ngClassUntouched,t["\u0275nov"](l,23).ngClassTouched,t["\u0275nov"](l,23).ngClassPristine,t["\u0275nov"](l,23).ngClassDirty,t["\u0275nov"](l,23).ngClassValid,t["\u0275nov"](l,23).ngClassInvalid,t["\u0275nov"](l,23).ngClassPending)})}var en=e("Z5h4"),tn=e("de3e"),on=Object.assign||function(n){for(var l,e=1,t=arguments.length;e<t;e++)for(var o in l=arguments[e])Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o]);return n},un=function(){function n(n,l,e,t,o){this.unitService=n,this.snackBar=l,this.notificationService=e,this.formBuilder=t,this.unitFormService=o}return n.prototype.ngOnInit=function(){var n=this;this.unitForm=this.unitFormService.unitForm,this.unitFormService.unitInfoText="Add questions with any number of possible answers. Mark the correct answer(s) with the checkbox.\n",this.unitFormService.headline="Tasks",this.model=this.unitFormService.model,this.buildForm(),this.unitFormService.beforeSubmit=function(){return l=n,void 0,t=function(){return function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(n){switch(n.label){case 0:return[4,this.isTaskUnitValid()];case 1:return[2,n.sent()]}})},new((e=void 0)||(e=Promise))(function(n,o){function i(n){try{a(t.next(n))}catch(n){o(n)}}function u(n){try{a(t.throw(n))}catch(n){o(n)}}function a(l){l.done?n(l.value):new e(function(n){n(l.value)}).then(i,u)}a((t=t.apply(l,[])).next())});var l,e,t}},n.prototype.buildForm=function(){this.unitForm.removeControl("tasks"),this.unitForm.addControl("tasks",this.formBuilder.array([]));for(var n=0,l=this.model.tasks;n<l.length;n++)this.addTask(l[n]);0===this.unitForm.controls.tasks.controls.length&&this.addTask()},n.prototype.isTaskUnitValid=function(){var n=this.unitForm.value;if(!n.name||null===n.name||""===n.name.trim())return this.snackBar.openShort("Task not valid: Name is required"),!1;if(0===n.tasks.length)return this.snackBar.openShort("Task not valid: At least one question is required"),!1;for(var l=0,e=n.tasks;l<e.length;l++){var t=e[l];if(null===t.name||""===t.name.trim())return this.snackBar.openShort("Task not valid: Every question requires some text"),!1;if(t.answers.length<2)return this.snackBar.openShort("Task not valid: Every question requires at least two answers"),!1;for(var o=!0,i=0,u=t.answers;i<u.length;i++){var a=u[i];if(o&&(o=!a.value),null===a.text||""===a.text.trim())return this.snackBar.openShort("Task not valid: Every answer requires some text"),!1}if(o)return this.snackBar.openShort("Task not valid: Every question requires at least one checked answer"),!1}return!0},n.prototype.addTask=function(n){var l=this.formBuilder.group({_id:new u.h,name:new u.h(null,u.y.required),answers:new u.e([])});if(n){l.patchValue(on({},n));for(var e=0,t=n.answers;e<t.length;e++)this.addAnswerAtEnd(l,t[e])}else l.removeControl("_id"),this.addAnswerAtEnd(l),this.addAnswerAtEnd(l);return this.unitForm.controls.tasks.push(l),l},n.prototype.addAnswerAtEnd=function(n,l){var e=this.formBuilder.group({_id:new u.h,value:new u.h,text:new u.h(null,u.y.required)});l?e.patchValue(on({},l)):e.removeControl("_id"),n.controls.answers.push(e)},n.prototype.removeAnswer=function(n,l){n.controls.answers.controls.length>2?l>-1&&n.controls.answers.controls.splice(l,1):this.snackBar.openShort("Not possible: Every question requires at least two answers")},n.prototype.removeTask=function(n){var l=this.unitForm.controls.tasks.controls;l.length>1?l=l.filter(n.value._id?function(l){return n.value._id!==l.value._id}:function(l){return n.value!==l.value}):this.snackBar.openShort("Not possible: At least one question is required"),this.unitForm.controls.tasks.controls=l},Object.defineProperty(n.prototype,"formTasks",{get:function(){return this.unitForm.get("tasks")},enumerable:!0,configurable:!0}),n}(),an=t["\u0275crt"]({encapsulation:0,styles:[[".question-answer[_ngcontent-%COMP%]{border-top:1px dashed #e0e0e0;margin-top:1rem;padding-top:1rem;clear:both}.question-answer[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{width:100%}@media (min-width:48em){.question-answer[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{width:60%}}.question-answer[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{color:#757575}.question-answer[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]{padding:1rem;background-color:#f5f5f5}.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:100%;display:inline-block}.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]   .check-answer[_ngcontent-%COMP%]{width:100%;display:flex}.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]   .check-answer[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin:1rem}.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]   .check-answer[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{flex-grow:1}.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]   .check-answer[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{min-width:0;height:36px;margin-top:.75rem;margin-left:.3rem}@media (min-width:48em){.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:50%}}@media (min-width:75em){.question-answer[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:33.33%}}.question-answer[_ngcontent-%COMP%]   .add-answer[_ngcontent-%COMP%]{padding-top:.66rem}"]],data:{}});function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,32,"div",[["class","answer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,31,"div",[["class","check-answer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,5,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,en.b,en.a)),t["\u0275did"](3,4374528,null,0,tn.b,[t.ElementRef,t.ChangeDetectorRef,b.h,t.NgZone,[8,null],[2,tn.a],[2,m.a]],{name:[0,"name"]},null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[tn.b]),t["\u0275did"](5,540672,null,0,u.i,[[8,null],[8,null],[6,u.q],[2,u.C]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.r,null,[u.i]),t["\u0275did"](7,16384,null,0,u.s,[[4,u.r]],null,null),(n()(),t["\u0275eld"](8,0,null,null,17,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](9,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,8,{_control:0}),t["\u0275qud"](335544320,9,{_placeholderChild:0}),t["\u0275qud"](335544320,10,{_labelChild:0}),t["\u0275qud"](603979776,11,{_errorChildren:1}),t["\u0275qud"](603979776,12,{_hintChildren:1}),t["\u0275qud"](603979776,13,{_prefixChildren:1}),t["\u0275qud"](603979776,14,{_suffixChildren:1}),(n()(),t["\u0275eld"](17,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,18)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,18).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,18)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,18)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,23)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,23)._onInput()&&o),o},null,null)),t["\u0275did"](18,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](20,540672,null,0,u.i,[[8,null],[8,null],[6,u.q],[2,u.C]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.r,null,[u.i]),t["\u0275did"](22,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](23,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[8,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](26,16777216,null,null,6,"button",[["class","remove"],["mat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,28).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,28)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,28)._handleTouchend()&&o),"click"===l&&(o=!1!==i.removeAnswer(n.parent.context.$implicit,n.context.index)&&o),o},h.d,h.b)),t["\u0275did"](27,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](28,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](30,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](31,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["delete"]))],function(n,l){n(l,3,0,t["\u0275inlineInterpolate"](1,"value_",l.context.index,"")),n(l,5,0,l.context.$implicit.controls.value),n(l,20,0,l.context.$implicit.controls.text),n(l,23,0,t["\u0275unv"](l,23,0,t["\u0275nov"](l,24).transform("unit.placeholder.enterAnswer"))),n(l,28,0,t["\u0275unv"](l,28,0,t["\u0275nov"](l,29).transform("unit.tooltip.deleteAnswer"))),n(l,31,0)},function(n,l){n(l,2,1,[t["\u0275nov"](l,3).id,t["\u0275nov"](l,3).indeterminate,t["\u0275nov"](l,3).checked,t["\u0275nov"](l,3).disabled,"before"==t["\u0275nov"](l,3).labelPosition,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending]),n(l,8,1,["standard"==t["\u0275nov"](l,9).appearance,"fill"==t["\u0275nov"](l,9).appearance,"outline"==t["\u0275nov"](l,9).appearance,"legacy"==t["\u0275nov"](l,9).appearance,t["\u0275nov"](l,9)._control.errorState,t["\u0275nov"](l,9)._canLabelFloat,t["\u0275nov"](l,9)._shouldLabelFloat(),t["\u0275nov"](l,9)._hideControlPlaceholder(),t["\u0275nov"](l,9)._control.disabled,t["\u0275nov"](l,9)._control.autofilled,t["\u0275nov"](l,9)._control.focused,"accent"==t["\u0275nov"](l,9).color,"warn"==t["\u0275nov"](l,9).color,t["\u0275nov"](l,9)._shouldForward("untouched"),t["\u0275nov"](l,9)._shouldForward("touched"),t["\u0275nov"](l,9)._shouldForward("pristine"),t["\u0275nov"](l,9)._shouldForward("dirty"),t["\u0275nov"](l,9)._shouldForward("valid"),t["\u0275nov"](l,9)._shouldForward("invalid"),t["\u0275nov"](l,9)._shouldForward("pending"),!t["\u0275nov"](l,9)._animationsEnabled]),n(l,17,1,[t["\u0275nov"](l,22).ngClassUntouched,t["\u0275nov"](l,22).ngClassTouched,t["\u0275nov"](l,22).ngClassPristine,t["\u0275nov"](l,22).ngClassDirty,t["\u0275nov"](l,22).ngClassValid,t["\u0275nov"](l,22).ngClassInvalid,t["\u0275nov"](l,22).ngClassPending,t["\u0275nov"](l,23)._isServer,t["\u0275nov"](l,23).id,t["\u0275nov"](l,23).placeholder,t["\u0275nov"](l,23).disabled,t["\u0275nov"](l,23).required,t["\u0275nov"](l,23).readonly,t["\u0275nov"](l,23)._ariaDescribedby||null,t["\u0275nov"](l,23).errorState,t["\u0275nov"](l,23).required.toString()]),n(l,26,0,t["\u0275nov"](l,27).disabled||null,"NoopAnimations"===t["\u0275nov"](l,27)._animationMode),n(l,30,0,t["\u0275nov"](l,31).inline)})}function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,38,"div",[["class","question-answer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,18,"mat-form-field",[["class","question mat-form-field mat-line"],["matLine",""]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](2,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,1,{_control:0}),t["\u0275qud"](335544320,2,{_placeholderChild:0}),t["\u0275qud"](335544320,3,{_labelChild:0}),t["\u0275qud"](603979776,4,{_errorChildren:1}),t["\u0275qud"](603979776,5,{_hintChildren:1}),t["\u0275qud"](603979776,6,{_prefixChildren:1}),t["\u0275qud"](603979776,7,{_suffixChildren:1}),t["\u0275did"](10,16384,null,0,d.o,[],null,null),(n()(),t["\u0275eld"](11,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["id","name"],["matInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,12)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,12).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,12)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,12)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,17)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,17)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,17)._onInput()&&o),o},null,null)),t["\u0275did"](12,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](14,540672,null,0,u.i,[[8,null],[8,null],[6,u.q],[2,u.C]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.r,null,[u.i]),t["\u0275did"](16,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](17,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{id:[0,"id"],placeholder:[1,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[1,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](20,16777216,null,null,6,"button",[["class","remove"],["mat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,22).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,22)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,22)._handleTouchend()&&o),"click"===l&&(o=!1!==i.removeTask(n.context.$implicit)&&o),o},h.d,h.b)),t["\u0275did"](21,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](22,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](24,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](25,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["delete"])),(n()(),t["\u0275eld"](27,0,null,null,11,"div",[["class","answers mat-line"],["matLine",""]],null,null,null,null,null)),t["\u0275did"](28,16384,null,0,d.o,[],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](30,802816,null,0,k.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](31,0,null,null,7,"div",[["class","add-answer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](32,0,null,null,6,"button",[["mat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addAnswerAtEnd(n.context.$implicit)&&t),t},h.d,h.b)),t["\u0275did"](33,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275eld"](34,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](35,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["add"])),(n()(),t["\u0275ted"](37,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],function(n,l){n(l,14,0,l.context.$implicit.controls.name),n(l,17,0,"name",t["\u0275unv"](l,17,1,t["\u0275nov"](l,18).transform("unit.placeholder.enterQuestion"))),n(l,22,0,t["\u0275unv"](l,22,0,t["\u0275nov"](l,23).transform("unit.tooltip.deleteQuestion"))),n(l,25,0),n(l,30,0,l.context.$implicit.controls.answers.controls),n(l,35,0)},function(n,l){n(l,1,1,["standard"==t["\u0275nov"](l,2).appearance,"fill"==t["\u0275nov"](l,2).appearance,"outline"==t["\u0275nov"](l,2).appearance,"legacy"==t["\u0275nov"](l,2).appearance,t["\u0275nov"](l,2)._control.errorState,t["\u0275nov"](l,2)._canLabelFloat,t["\u0275nov"](l,2)._shouldLabelFloat(),t["\u0275nov"](l,2)._hideControlPlaceholder(),t["\u0275nov"](l,2)._control.disabled,t["\u0275nov"](l,2)._control.autofilled,t["\u0275nov"](l,2)._control.focused,"accent"==t["\u0275nov"](l,2).color,"warn"==t["\u0275nov"](l,2).color,t["\u0275nov"](l,2)._shouldForward("untouched"),t["\u0275nov"](l,2)._shouldForward("touched"),t["\u0275nov"](l,2)._shouldForward("pristine"),t["\u0275nov"](l,2)._shouldForward("dirty"),t["\u0275nov"](l,2)._shouldForward("valid"),t["\u0275nov"](l,2)._shouldForward("invalid"),t["\u0275nov"](l,2)._shouldForward("pending"),!t["\u0275nov"](l,2)._animationsEnabled]),n(l,11,1,[t["\u0275nov"](l,16).ngClassUntouched,t["\u0275nov"](l,16).ngClassTouched,t["\u0275nov"](l,16).ngClassPristine,t["\u0275nov"](l,16).ngClassDirty,t["\u0275nov"](l,16).ngClassValid,t["\u0275nov"](l,16).ngClassInvalid,t["\u0275nov"](l,16).ngClassPending,t["\u0275nov"](l,17)._isServer,t["\u0275nov"](l,17).id,t["\u0275nov"](l,17).placeholder,t["\u0275nov"](l,17).disabled,t["\u0275nov"](l,17).required,t["\u0275nov"](l,17).readonly,t["\u0275nov"](l,17)._ariaDescribedby||null,t["\u0275nov"](l,17).errorState,t["\u0275nov"](l,17).required.toString()]),n(l,20,0,t["\u0275nov"](l,21).disabled||null,"NoopAnimations"===t["\u0275nov"](l,21)._animationMode),n(l,24,0,t["\u0275nov"](l,25).inline),n(l,32,0,t["\u0275nov"](l,33).disabled||null,"NoopAnimations"===t["\u0275nov"](l,33)._animationMode),n(l,34,0,t["\u0275nov"](l,35).inline),n(l,37,0,t["\u0275unv"](l,37,0,t["\u0275nov"](l,38).transform("unit.text.addAnswer")))})}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,null,null,null,null,function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,1).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,1).onReset()&&o),o},null,null)),t["\u0275did"](1,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](3,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](4,0,null,null,5,"div",[["class","task-unit-edit"],["formArrayName","tasks"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](5,212992,null,0,u.f,[[3,u.c],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.c,null,[u.f]),t["\u0275did"](7,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](9,802816,null,0,k.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.unitForm),n(l,5,0,"tasks"),n(l,9,0,e.formTasks.controls)},function(n,l){n(l,4,0,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending)})}var sn=e("Rlre"),mn=e("La40"),fn=e("Kvq5"),pn=e("TC7V"),vn=e("3gFv"),hn=(e("Bhyg"),e("wam1"),function(){function n(n){this.unitFormService=n}return n.prototype.ngAfterViewInit=function(){this.editor.setOptions({maxLines:9999})},n.prototype.onTabChange=function(n){1===n.index&&this.freeTextCore.renderHtml()},n}()),gn=t["\u0275crt"]({encapsulation:0,styles:[["ace-editor[_ngcontent-%COMP%]{width:90%;min-height:15em}"]],data:{}});function bn(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{freeTextCore:0}),t["\u0275qud"](402653184,2,{editor:0}),(n()(),t["\u0275eld"](2,0,null,null,32,"mat-tab-group",[["class","mat-tab-group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"selectedTabChange"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,i=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,3).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,3).onReset()&&o),"selectedTabChange"===l&&(o=!1!==i.onTabChange(e)&&o),o},sn.d,sn.b)),t["\u0275did"](3,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](5,16384,null,0,u.t,[[4,u.c]],null,null),t["\u0275did"](6,3325952,null,1,mn.e,[t.ElementRef,t.ChangeDetectorRef],null,{selectedTabChange:"selectedTabChange"}),t["\u0275qud"](603979776,3,{_tabs:1}),(n()(),t["\u0275eld"](8,16777216,null,null,20,"mat-tab",[["label","Write"]],null,null,null,sn.f,sn.a)),t["\u0275did"](9,770048,[[3,4]],2,mn.b,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](335544320,4,{templateLabel:0}),t["\u0275qud"](335544320,5,{_explicitContent:0}),(n()(),t["\u0275eld"](12,0,null,0,10,"p",[["class","info-text"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](14,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["info"])),(n()(),t["\u0275ted"](16,null,[" "," "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](19,0,null,null,2,"a",[["href","https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"],["target","_blank"]],null,null,null,null,null)),(n()(),t["\u0275ted"](20,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275ted"](-1,null,[". "])),(n()(),t["\u0275eld"](23,0,null,0,5,"ace-editor",[["formControlName","markdown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Y.b,Y.a)),t["\u0275did"](24,245760,[[2,4],["editor",4]],0,H.a,[t.ElementRef,t.NgZone],{theme:[0,"theme"],mode:[1,"mode"],autoUpdateContent:[2,"autoUpdateContent"]},null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[H.a]),t["\u0275did"](26,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](28,16384,null,0,u.s,[[4,u.r]],null,null),(n()(),t["\u0275eld"](29,16777216,null,null,5,"mat-tab",[["label","Preview"]],null,null,null,sn.f,sn.a)),t["\u0275did"](30,770048,[[3,4]],2,mn.b,[t.ViewContainerRef],{textLabel:[0,"textLabel"]},null),t["\u0275qud"](335544320,6,{templateLabel:0}),t["\u0275qud"](335544320,7,{_explicitContent:0}),(n()(),t["\u0275eld"](33,0,null,0,1,"app-free-text-unit-core",[],null,null,null,fn.b,fn.a)),t["\u0275did"](34,114688,[[1,4]],0,pn.a,[vn.a],{markdown:[0,"markdown"],theme:[1,"theme"]},null)],function(n,l){var e=l.component;n(l,3,0,e.unitForm),n(l,9,0,"Write"),n(l,14,0),n(l,24,0,"github","markdown",!0),n(l,26,0,"markdown"),n(l,30,0,"Preview"),n(l,34,0,e.unitForm.controls.markdown.value,e.unitFormService.course.freeTextStyle)},function(n,l){n(l,2,0,t["\u0275nov"](l,5).ngClassUntouched,t["\u0275nov"](l,5).ngClassTouched,t["\u0275nov"](l,5).ngClassPristine,t["\u0275nov"](l,5).ngClassDirty,t["\u0275nov"](l,5).ngClassValid,t["\u0275nov"](l,5).ngClassInvalid,t["\u0275nov"](l,5).ngClassPending,t["\u0275nov"](l,6).dynamicHeight,"below"===t["\u0275nov"](l,6).headerPosition),n(l,13,0,t["\u0275nov"](l,14).inline),n(l,16,0,t["\u0275unv"](l,16,0,t["\u0275nov"](l,17).transform("course.text.addMarkdownToCourse")),t["\u0275unv"](l,16,1,t["\u0275nov"](l,18).transform("common.cheatSheetYouFind"))),n(l,20,0,t["\u0275unv"](l,20,0,t["\u0275nov"](l,21).transform("common.here"))),n(l,23,0,t["\u0275nov"](l,28).ngClassUntouched,t["\u0275nov"](l,28).ngClassTouched,t["\u0275nov"](l,28).ngClassPristine,t["\u0275nov"](l,28).ngClassDirty,t["\u0275nov"](l,28).ngClassValid,t["\u0275nov"](l,28).ngClassInvalid,t["\u0275nov"](l,28).ngClassPending)})}var Cn=function(){function n(n,l){this.dialogRef=n,this.data=l}return n.prototype.ngOnInit=function(){var n=this;this.dialogRef.beforeClose().subscribe(function(l){n.dialogRef.close(n.freeTextEditor.unitForm.controls.markdown.value)})},n.prototype.onCloseClick=function(){return this.dialogRef.close(this.freeTextEditor.unitForm.controls.markdown.value)},n}(),_n=function(){function n(n,l,e,t,o){this.freeTextUnitService=n,this.unitService=l,this.dialog=e,this.notificationService=t,this.unitFormService=o}return n.prototype.ngOnInit=function(){this.unitFormService.headline="Free-text",this.unitForm=this.unitFormService.unitForm,this.unitForm.addControl("markdown",new u.h(this.unitFormService.model.markdown))},n.prototype.openFullscreen=function(){var n=this;this.dialog.open(Cn,{width:"94vw",height:"94vh",maxWidth:"100vw",maxHeight:"100vh",data:{markdown:this.unitForm.controls.markdown?this.unitForm.controls.markdown:"",unitForm:this.unitForm}}).afterClosed().subscribe(function(l){void 0!==l&&n.unitForm.patchValue({markdown:l})})},n}(),yn=t["\u0275crt"]({encapsulation:0,styles:[["mat-form-field[_ngcontent-%COMP%]{width:100%}@media (min-width:48em){mat-form-field[_ngcontent-%COMP%]{width:60%}}.btn-wrapper[_ngcontent-%COMP%]{padding-top:1em}"]],data:{}});function wn(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{freeTextEditor:0}),(n()(),t["\u0275eld"](1,0,null,null,1,"app-free-text-unit-editor",[],null,null,null,bn,gn)),t["\u0275did"](2,4243456,[[1,4]],0,hn,[T.a],{unitForm:[0,"unitForm"]},null)],function(n,l){n(l,2,0,l.component.unitForm)},null)}var Sn=function(){function n(n,l){this.unitFormService=n,this.formBuilder=l}return n.prototype.ngOnInit=function(){this.unitFormService.unitInfoText="Assignments Info",this.unitFormService.headline="Assignments",this.unitForm=this.unitFormService.unitForm,this.unitForm.addControl("deadline",new u.h),this.unitForm.addControl("assignments",new u.h),this.model&&this.unitForm.patchValue({deadline:this.model.deadline,assignments:this.model.assignments})},n}(),Fn=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function kn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,1).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,1).onReset()&&o),o},null,null)),t["\u0275did"](1,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](3,16384,null,0,u.t,[[4,u.c]],null,null)],function(n,l){n(l,1,0,l.component.unitForm)},null)}var Rn=e("jQLj"),In=e("zbXB"),On=e("oJZn"),xn=e("kWGw"),Mn=t["\u0275crt"]({encapsulation:0,styles:[["mat-form-field[_ngcontent-%COMP%]{width:100%}@media (min-width:48em){mat-form-field[_ngcontent-%COMP%]{width:60%}}"]],data:{}});function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,26,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](1,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,15,{_control:0}),t["\u0275qud"](335544320,16,{_placeholderChild:0}),t["\u0275qud"](335544320,17,{_labelChild:0}),t["\u0275qud"](603979776,18,{_errorChildren:1}),t["\u0275qud"](603979776,19,{_hintChildren:1}),t["\u0275qud"](603979776,20,{_prefixChildren:1}),t["\u0275qud"](603979776,21,{_suffixChildren:1}),(n()(),t["\u0275eld"](9,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","deadline"],["matInput",""]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"dateChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"],[null,"focus"]],function(n,l,e){var o=!0,i=n.component;return"input"===l&&(o=!1!==t["\u0275nov"](n,10)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,10).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,10)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,10)._compositionEnd(e.target.value)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,11)._onInput(e.target.value)&&o),"change"===l&&(o=!1!==t["\u0275nov"](n,11)._onChange()&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,11)._onBlur()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,11)._onKeydown(e)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,18)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,18)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,18)._onInput()&&o),"dateChange"===l&&(o=!1!==i.onDateChange(e)&&o),o},null,null)),t["\u0275did"](10,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](11,1196032,null,0,Rn.h,[t.ElementRef,[2,d.c],[2,d.g],[2,r.b]],{matDatepicker:[0,"matDatepicker"]},{dateChange:"dateChange"}),t["\u0275prd"](1024,null,u.p,function(n){return[n]},[Rn.h]),t["\u0275prd"](1024,null,u.q,function(n,l){return[n,l]},[u.d,Rn.h]),t["\u0275did"](14,671744,null,0,u.j,[[3,u.c],[6,u.p],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](16,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275prd"](2048,null,f.a,null,[Rn.h]),t["\u0275did"](18,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[6,f.a],p.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[15,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](21,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,In.e,In.d)),t["\u0275did"](22,1753088,null,1,Rn.k,[Rn.i,t.ChangeDetectorRef],{datepicker:[0,"datepicker"]},null),t["\u0275qud"](335544320,22,{_customIcon:0}),t["\u0275did"](24,16384,[[21,4]],0,r.f,[],null,null),(n()(),t["\u0275eld"](25,16777216,null,1,1,"mat-datepicker",[],null,null,null,In.f,In.c)),t["\u0275did"](26,180224,[["deadlineDatepicker",4]],0,Rn.f,[Z.e,x.c,t.NgZone,t.ViewContainerRef,Rn.a,[2,d.c],[2,c.b],[2,k.DOCUMENT]],null,null)],function(n,l){n(l,11,0,t["\u0275nov"](l,26)),n(l,14,0,"deadline"),n(l,18,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform("unit.text.deadline"))," (optional)")),n(l,22,0,t["\u0275nov"](l,26))},function(n,l){n(l,0,1,["standard"==t["\u0275nov"](l,1).appearance,"fill"==t["\u0275nov"](l,1).appearance,"outline"==t["\u0275nov"](l,1).appearance,"legacy"==t["\u0275nov"](l,1).appearance,t["\u0275nov"](l,1)._control.errorState,t["\u0275nov"](l,1)._canLabelFloat,t["\u0275nov"](l,1)._shouldLabelFloat(),t["\u0275nov"](l,1)._hideControlPlaceholder(),t["\u0275nov"](l,1)._control.disabled,t["\u0275nov"](l,1)._control.autofilled,t["\u0275nov"](l,1)._control.focused,"accent"==t["\u0275nov"](l,1).color,"warn"==t["\u0275nov"](l,1).color,t["\u0275nov"](l,1)._shouldForward("untouched"),t["\u0275nov"](l,1)._shouldForward("touched"),t["\u0275nov"](l,1)._shouldForward("pristine"),t["\u0275nov"](l,1)._shouldForward("dirty"),t["\u0275nov"](l,1)._shouldForward("valid"),t["\u0275nov"](l,1)._shouldForward("invalid"),t["\u0275nov"](l,1)._shouldForward("pending"),!t["\u0275nov"](l,1)._animationsEnabled]),n(l,9,1,[!0,(null==t["\u0275nov"](l,11)._datepicker?null:t["\u0275nov"](l,11)._datepicker.opened)&&t["\u0275nov"](l,11)._datepicker.id||null,t["\u0275nov"](l,11).min?t["\u0275nov"](l,11)._dateAdapter.toIso8601(t["\u0275nov"](l,11).min):null,t["\u0275nov"](l,11).max?t["\u0275nov"](l,11)._dateAdapter.toIso8601(t["\u0275nov"](l,11).max):null,t["\u0275nov"](l,11).disabled,t["\u0275nov"](l,16).ngClassUntouched,t["\u0275nov"](l,16).ngClassTouched,t["\u0275nov"](l,16).ngClassPristine,t["\u0275nov"](l,16).ngClassDirty,t["\u0275nov"](l,16).ngClassValid,t["\u0275nov"](l,16).ngClassInvalid,t["\u0275nov"](l,16).ngClassPending,t["\u0275nov"](l,18)._isServer,t["\u0275nov"](l,18).id,t["\u0275nov"](l,18).placeholder,t["\u0275nov"](l,18).disabled,t["\u0275nov"](l,18).required,t["\u0275nov"](l,18).readonly,t["\u0275nov"](l,18)._ariaDescribedby||null,t["\u0275nov"](l,18).errorState,t["\u0275nov"](l,18).required.toString()]),n(l,21,0,t["\u0275nov"](l,22).datepicker&&t["\u0275nov"](l,22).datepicker.opened,t["\u0275nov"](l,22).datepicker&&"accent"===t["\u0275nov"](l,22).datepicker.color,t["\u0275nov"](l,22).datepicker&&"warn"===t["\u0275nov"](l,22).datepicker.color)})}function Dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.text.canBeSeenByStudents")))})}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.text.canNotBeSeenByStudents")))})}function En(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,54,null,null,null,null,function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,1).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,1).onReset()&&o),o},null,null)),t["\u0275did"](1,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](3,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](4,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](5,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,1,{_control:0}),t["\u0275qud"](335544320,2,{_placeholderChild:0}),t["\u0275qud"](335544320,3,{_labelChild:0}),t["\u0275qud"](603979776,4,{_errorChildren:1}),t["\u0275qud"](603979776,5,{_hintChildren:1}),t["\u0275qud"](603979776,6,{_prefixChildren:1}),t["\u0275qud"](603979776,7,{_suffixChildren:1}),(n()(),t["\u0275eld"](13,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,14)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,14).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,14)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,14)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,21)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,21)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,21)._onInput()&&o),o},null,null)),t["\u0275did"](14,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275did"](15,16384,null,0,u.x,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,u.p,function(n){return[n]},[u.x]),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](18,671744,null,0,u.j,[[3,u.c],[6,u.p],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](20,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](21,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[1,4]],r.c,null,[f.b]),(n()(),t["\u0275eld"](24,0,null,null,17,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,a.b,a.a)),t["\u0275did"](25,7389184,null,7,r.b,[t.ElementRef,t.ChangeDetectorRef,[2,d.j],[2,c.b],[2,r.a],s.a,t.NgZone,[2,m.a]],null,null),t["\u0275qud"](335544320,8,{_control:0}),t["\u0275qud"](335544320,9,{_placeholderChild:0}),t["\u0275qud"](335544320,10,{_labelChild:0}),t["\u0275qud"](603979776,11,{_errorChildren:1}),t["\u0275qud"](603979776,12,{_hintChildren:1}),t["\u0275qud"](603979776,13,{_prefixChildren:1}),t["\u0275qud"](603979776,14,{_suffixChildren:1}),(n()(),t["\u0275eld"](33,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["matInput",""],["rows","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,34)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,34).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,39)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["\u0275nov"](n,39)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,39)._onInput()&&o),o},null,null)),t["\u0275did"](34,16384,null,0,u.d,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[u.d]),t["\u0275did"](36,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](38,16384,null,0,u.s,[[4,u.r]],null,null),t["\u0275did"](39,999424,null,0,f.b,[t.ElementRef,s.a,[6,u.r],[2,u.u],[2,u.l],d.d,[8,null],p.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),t["\u0275prd"](2048,[[8,4]],r.c,null,[f.b]),(n()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](43,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](44,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](45,0,null,null,9,"mat-slide-toggle",[["class","mat-slide-toggle"],["formControlName","visible"]],[[8,"id",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,On.b,On.a)),t["\u0275did"](46,1228800,null,0,xn.a,[t.ElementRef,s.a,b.h,t.ChangeDetectorRef,[8,null],t.NgZone,[2,m.a]],null,null),t["\u0275prd"](1024,null,u.q,function(n){return[n]},[xn.a]),t["\u0275did"](48,671744,null,0,u.j,[[3,u.c],[8,null],[8,null],[6,u.q],[2,u.C]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.r,null,[u.j]),t["\u0275did"](50,16384,null,0,u.s,[[4,u.r]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,Dn)),t["\u0275did"](52,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Tn)),t["\u0275did"](54,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.unitForm),n(l,15,0,""),n(l,18,0,"name"),n(l,21,0,t["\u0275unv"](l,21,0,t["\u0275nov"](l,22).transform("common.name")),""),n(l,36,0,"description"),n(l,39,0,t["\u0275unv"](l,39,0,t["\u0275nov"](l,40).transform("common.description"))),n(l,43,0,null==e.model?null:e.model.progressable),n(l,48,0,"visible"),n(l,52,0,e.unitForm.value.visible),n(l,54,0,!e.unitForm.value.visible)},function(n,l){n(l,4,1,["standard"==t["\u0275nov"](l,5).appearance,"fill"==t["\u0275nov"](l,5).appearance,"outline"==t["\u0275nov"](l,5).appearance,"legacy"==t["\u0275nov"](l,5).appearance,t["\u0275nov"](l,5)._control.errorState,t["\u0275nov"](l,5)._canLabelFloat,t["\u0275nov"](l,5)._shouldLabelFloat(),t["\u0275nov"](l,5)._hideControlPlaceholder(),t["\u0275nov"](l,5)._control.disabled,t["\u0275nov"](l,5)._control.autofilled,t["\u0275nov"](l,5)._control.focused,"accent"==t["\u0275nov"](l,5).color,"warn"==t["\u0275nov"](l,5).color,t["\u0275nov"](l,5)._shouldForward("untouched"),t["\u0275nov"](l,5)._shouldForward("touched"),t["\u0275nov"](l,5)._shouldForward("pristine"),t["\u0275nov"](l,5)._shouldForward("dirty"),t["\u0275nov"](l,5)._shouldForward("valid"),t["\u0275nov"](l,5)._shouldForward("invalid"),t["\u0275nov"](l,5)._shouldForward("pending"),!t["\u0275nov"](l,5)._animationsEnabled]),n(l,13,1,[t["\u0275nov"](l,15).required?"":null,t["\u0275nov"](l,20).ngClassUntouched,t["\u0275nov"](l,20).ngClassTouched,t["\u0275nov"](l,20).ngClassPristine,t["\u0275nov"](l,20).ngClassDirty,t["\u0275nov"](l,20).ngClassValid,t["\u0275nov"](l,20).ngClassInvalid,t["\u0275nov"](l,20).ngClassPending,t["\u0275nov"](l,21)._isServer,t["\u0275nov"](l,21).id,t["\u0275nov"](l,21).placeholder,t["\u0275nov"](l,21).disabled,t["\u0275nov"](l,21).required,t["\u0275nov"](l,21).readonly,t["\u0275nov"](l,21)._ariaDescribedby||null,t["\u0275nov"](l,21).errorState,t["\u0275nov"](l,21).required.toString()]),n(l,24,1,["standard"==t["\u0275nov"](l,25).appearance,"fill"==t["\u0275nov"](l,25).appearance,"outline"==t["\u0275nov"](l,25).appearance,"legacy"==t["\u0275nov"](l,25).appearance,t["\u0275nov"](l,25)._control.errorState,t["\u0275nov"](l,25)._canLabelFloat,t["\u0275nov"](l,25)._shouldLabelFloat(),t["\u0275nov"](l,25)._hideControlPlaceholder(),t["\u0275nov"](l,25)._control.disabled,t["\u0275nov"](l,25)._control.autofilled,t["\u0275nov"](l,25)._control.focused,"accent"==t["\u0275nov"](l,25).color,"warn"==t["\u0275nov"](l,25).color,t["\u0275nov"](l,25)._shouldForward("untouched"),t["\u0275nov"](l,25)._shouldForward("touched"),t["\u0275nov"](l,25)._shouldForward("pristine"),t["\u0275nov"](l,25)._shouldForward("dirty"),t["\u0275nov"](l,25)._shouldForward("valid"),t["\u0275nov"](l,25)._shouldForward("invalid"),t["\u0275nov"](l,25)._shouldForward("pending"),!t["\u0275nov"](l,25)._animationsEnabled]),n(l,33,1,[t["\u0275nov"](l,38).ngClassUntouched,t["\u0275nov"](l,38).ngClassTouched,t["\u0275nov"](l,38).ngClassPristine,t["\u0275nov"](l,38).ngClassDirty,t["\u0275nov"](l,38).ngClassValid,t["\u0275nov"](l,38).ngClassInvalid,t["\u0275nov"](l,38).ngClassPending,t["\u0275nov"](l,39)._isServer,t["\u0275nov"](l,39).id,t["\u0275nov"](l,39).placeholder,t["\u0275nov"](l,39).disabled,t["\u0275nov"](l,39).required,t["\u0275nov"](l,39).readonly,t["\u0275nov"](l,39)._ariaDescribedby||null,t["\u0275nov"](l,39).errorState,t["\u0275nov"](l,39).required.toString()]),n(l,45,1,[t["\u0275nov"](l,46).id,t["\u0275nov"](l,46).checked,t["\u0275nov"](l,46).disabled,"before"==t["\u0275nov"](l,46).labelPosition,"NoopAnimations"===t["\u0275nov"](l,46)._animationMode,t["\u0275nov"](l,50).ngClassUntouched,t["\u0275nov"](l,50).ngClassTouched,t["\u0275nov"](l,50).ngClassPristine,t["\u0275nov"](l,50).ngClassDirty,t["\u0275nov"](l,50).ngClassValid,t["\u0275nov"](l,50).ngClassInvalid,t["\u0275nov"](l,50).ngClassPending])})}var qn=e("7UBN"),Ln=e("zw1d"),Un=(e("vFKb"),function(n,l,e,t){return new(e||(e=Promise))(function(o,i){function u(n){try{r(t.next(n))}catch(n){i(n)}}function a(n){try{r(t.throw(n))}catch(n){i(n)}}function r(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(u,a)}r((t=t.apply(n,l||[])).next())})}),Nn=function(){function n(n,l,e,t,o,i,u){this.formBuilder=n,this.freeTextUnitService=l,this.unitService=e,this.snackBar=t,this.dialog=o,this.notificationService=i,this.unitFormService=u}return n.prototype.ngOnInit=function(){this.unitFormService.reset(),this.unitFormService.model=this.model,this.unitFormService.course=this.course,this.unitFormService.lecture=this.lecture,this.unitForm=this.unitFormService.unitForm},n.prototype.reset=function(){this.unitFormService.reset(),this.onCancel()},n.prototype.save=function(){return Un(this,void 0,void 0,function(){return function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(n){return[2,this.unitFormService.save(this.onDone)]})})},n}(),An=e("vARd"),jn=t["\u0275crt"]({encapsulation:0,styles:[[".edit-unit[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.btn-wrapper[_ngcontent-%COMP%]{padding-top:1em}"]],data:{}});function Vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-file-unit-form",[],null,null,null,W,$)),t["\u0275did"](1,114688,[[5,4]],0,B,[U.a,q.q,L.a,Z.e,T.a,u.g,A.a],{fileUnitType:[0,"fileUnitType"]},null)],function(n,l){n(l,1,0,l.component.model.fileUnitType)},null)}function Kn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-code-kata-unit-form",[],null,null,null,ln,X)),t["\u0275did"](1,114688,[[4,4]],0,Q,[q.d,q.q,U.a,q.o,T.a,J.a],null,null)],function(n,l){n(l,1,0)},null)}function Bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-task-unit-form",[],null,null,null,cn,an)),t["\u0275did"](1,114688,[[3,4]],0,un,[q.q,U.a,q.o,u.g,T.a],null,null)],function(n,l){n(l,1,0)},null)}function Zn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-free-text-unit-form",[],null,null,null,wn,yn)),t["\u0275did"](1,114688,[[1,4]],0,_n,[q.k,q.q,Z.e,q.o,T.a],null,null)],function(n,l){n(l,1,0)},null)}function $n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-assignment-unit-form",[],null,null,null,kn,Fn)),t["\u0275did"](1,114688,null,0,Sn,[T.a,u.g],null,null)],function(n,l){n(l,1,0)},null)}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.codeKataUnitFormComponent.validate()&&t),t},h.d,h.b)),t["\u0275did"](1,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275ted"](-1,0,["Validate"]))],null,function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)})}function zn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.fileUnitFormComponent.openAddFilesDialog()&&t),t},h.d,h.b)),t["\u0275did"](1,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275ted"](2,0,["Add ",""]))],null,function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode),n(l,2,0,"file"==e.model.fileUnitType?"Files":"Videos")})}function Wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["color","secondary"],["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.freeTextUnitFormComponent.openFullscreen()&&t),t},h.d,h.b)),t["\u0275did"](1,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Fullscreen"]))],function(n,l){n(l,1,0,"secondary")},function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)})}function Yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.taskUnitEditComponent.addTask()&&t),t},h.d,h.b)),t["\u0275did"](1,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](3,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["add"])),(n()(),t["\u0275ted"](-1,0,[" Add question "]))],function(n,l){n(l,3,0)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode),n(l,2,0,t["\u0275nov"](l,3).inline)})}function Hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,29,"form",[["class","edit-unit"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"reset"],[null,"submit"]],function(n,l,e){var o=!0,i=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,2).onReset()&&o),"reset"===l&&(o=!1!==i.reset()&&o),"submit"===l&&(o=!1!==i.save()&&o),o},null,null)),t["\u0275did"](1,16384,null,0,u.A,[],null,null),t["\u0275did"](2,540672,null,0,u.l,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.c,null,[u.l]),t["\u0275did"](4,16384,null,0,u.t,[[4,u.c]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"app-unit-general-info-form",[],null,null,null,En,Mn)),t["\u0275did"](6,114688,null,0,E,[u.g,T.a,v.j],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](8,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Kn)),t["\u0275did"](10,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](12,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Zn)),t["\u0275did"](14,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](16,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](17,0,null,null,12,"div",[["class","btn-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,11,"app-button-save-cancel",[],null,null,null,qn.b,qn.a)),t["\u0275did"](19,114688,null,0,Ln.a,[],{saveButtonDisabled:[0,"saveButtonDisabled"]},null),(n()(),t["\u0275eld"](20,0,null,0,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](22,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](24,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](25,0,null,1,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Wn)),t["\u0275did"](27,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Yn)),t["\u0275did"](29,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.unitForm),n(l,6,0),n(l,8,0,"video"==e.type||"file"==e.type),n(l,10,0,"code-kata"==e.type),n(l,12,0,"task"==e.type),n(l,14,0,"free-text"==e.type),n(l,16,0,"assignment"==e.type),n(l,19,0,e.unitForm.invalid),n(l,22,0,"code-kata"==e.type),n(l,24,0,"video"==e.type||"file"==e.type),n(l,27,0,"free-text"==e.type),n(l,29,0,"task"==e.type)},function(n,l){n(l,0,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending)})}function Jn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{freeTextUnitFormComponent:0}),t["\u0275qud"](402653184,2,{codeKataComponent:0}),t["\u0275qud"](671088640,3,{taskUnitEditComponent:0}),t["\u0275qud"](671088640,4,{codeKataUnitFormComponent:0}),t["\u0275qud"](671088640,5,{fileUnitFormComponent:0}),(n()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](6,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,6,0,l.component.course)},null)}var Qn=e("mVsa"),Xn=e("2Q+G"),nl=e("kf7m"),ll=e("KX97"),el=e("H0VJ"),tl=e("kmKP"),ol=(e("iSfc"),e("qd2x")),il=e("lSqL"),ul=e("FyLr"),al=function(n,l,e,t){return new(e||(e=Promise))(function(o,i){function u(n){try{r(t.next(n))}catch(n){i(n)}}function a(n){try{r(t.throw(n))}catch(n){i(n)}}function r(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(u,a)}r((t=t.apply(n,l||[])).next())})},rl=function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},dl=function(){function n(n,l,e,t,o,i,u,a,r,d,c,s,m,f,p){var v=this;this.route=n,this.lectureService=l,this.unitService=e,this.showProgress=t,this.snackBar=o,this.dialogService=i,this.dragulaService=u,this.duplicationService=a,this.exportService=r,this.saveFileService=d,this.userService=c,this.dataSharingService=s,this.router=m,this.notificationService=f,this.unitFactoryService=p,this.closeEditLecture=function(){v.dataSharingService.setDataForKey("lecture-edit-mode",!1)},this.onAddUnitDone=function(){return al(v,void 0,void 0,function(){return rl(this,function(n){switch(n.label){case 0:return[4,this.reloadCourse()];case 1:return n.sent(),this.closeAddUnit(),[2]}})})},this.closeAddUnit=function(){v.unsetAddUnit(),v.navigateToThisLecture()},this.onEditUnit=function(n){var l=v.isUnitCurrentlyOpen(n);if(v.closeAllForms(),l)return v.navigateToThisLecture();v.dataSharingService.setDataForKey("unit-edit-mode",!0),v.dataSharingService.setDataForKey("unit-edit-element",n),v.navigateToUnitEdit(n._id)},this.onExportUnit=function(n){return al(v,void 0,void 0,function(){var l,e;return rl(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.exportService.exportUnit(n)];case 1:return l=t.sent(),this.saveFileService.save(n.name,JSON.stringify(l,null,2)),[3,3];case 2:return e=t.sent(),this.snackBar.open("Export unit failed "+e.error.message),[3,3];case 3:return[2]}})})},this.onEditUnitDone=function(){return al(v,void 0,void 0,function(){return rl(this,function(n){switch(n.label){case 0:return[4,this.reloadCourse()];case 1:return n.sent(),this.closeEditUnit(),[2]}})})},this.closeEditUnit=function(){v.unsetUnitEdit(),v.navigateToThisLecture()}}return n.prototype.ngOnInit=function(){var n=this;this.onCloseAllForms=this.dataSharingService.getDataForKey("onCloseAllForms"),this.onCloseAllForms.asObservable().subscribe(function(){return n.closeAllForms()}),this.onReloadCourse=this.dataSharingService.getDataForKey("onReloadCourse")},n.prototype.ngOnDestroy=function(){},n.prototype.isDraggingUnit=function(){return this.dragulaService.find("units").drake.dragging},n.prototype.duplicateLecture=function(n){return al(this,void 0,void 0,function(){var l,e;return rl(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.duplicationService.duplicateLecture(n,this.course._id)];case 1:return l=t.sent(),this.snackBar.open("Lecture duplicated."),[4,this.reloadCourse()];case 2:return t.sent(),this.navigateToLecture(l._id),[3,4];case 3:return e=t.sent(),this.snackBar.open(e.error.message),[3,4];case 4:return[2]}})})},n.prototype.duplicateUnit=function(n){return al(this,void 0,void 0,function(){var l,e;return rl(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.duplicationService.duplicateUnit(n,this.lecture._id)];case 1:return l=t.sent(),this.snackBar.open("Unit duplicated."),[4,this.reloadCourse()];case 2:return t.sent(),this.navigateToUnitEdit(l._id),[3,4];case 3:return e=t.sent(),this.snackBar.open(e.error.message),[3,4];case 4:return[2]}})})},n.prototype.exportLecture=function(n){return al(this,void 0,void 0,function(){var l,e;return rl(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.exportService.exportLecture(n)];case 1:return l=t.sent(),this.saveFileService.save(n.name,JSON.stringify(l,null,2)),[3,3];case 2:return e=t.sent(),this.snackBar.open("Export lecture failed "+e.error.message),[3,3];case 3:return[2]}})})},n.prototype.updateLecture=function(n){var l=this;this.showProgress.toggleLoadingGlobal(!0),this.lectureService.updateItem(n).then(function(){l.dataSharingService.setDataForKey("lecture-edit-mode",!1),l.notificationService.createItem({targetId:n._id,targetType:"lecture",text:"Course "+l.course.name+" has an updated lecture."}).catch(console.error)}).catch(console.error).then(function(){return l.showProgress.toggleLoadingGlobal(!1)})},n.prototype.deleteUnit=function(n){var l=this;this.dialogService.confirmDelete("unit",n.__t).subscribe(function(e){return al(l,void 0,void 0,function(){var l;return rl(this,function(t){switch(t.label){case 0:if(!e)return[2];this.showProgress.toggleLoadingGlobal(!0),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.unitService.deleteItem(n)];case 2:return t.sent(),this.closeEditUnit(),[4,this.reloadCourse()];case 3:return t.sent(),this.snackBar.open("Unit deleted."),[3,5];case 4:return l=t.sent(),this.snackBar.open(l.message),[3,5];case 5:return this.showProgress.toggleLoadingGlobal(!1),[2]}})})})},n.prototype.getDataForKey=function(n){return this.dataSharingService.getDataForKey(n)},n.prototype.deleteLecture=function(n){var l=this;this.dialogService.confirmDelete("lecture",n.name).subscribe(function(e){return al(l,void 0,void 0,function(){var l;return rl(this,function(t){switch(t.label){case 0:if(!e)return[2];this.showProgress.toggleLoadingGlobal(!0),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.lectureService.deleteItem(n)];case 2:return t.sent(),this.unsetUnitEdit(),this.closeEditLecture(),[4,this.reloadCourse()];case 3:return t.sent(),this.snackBar.open("Lecture deleted."),[3,5];case 4:return l=t.sent(),this.snackBar.open(l.message),[3,5];case 5:return this.showProgress.toggleLoadingGlobal(!1),[2]}})})})},n.prototype.reloadCourse=function(){var n=this;return new Promise(function(l){n.onReloadCourse.next(l)})},n.prototype.onEditLecture=function(){this.closeAllForms(),this.dataSharingService.setDataForKey("lecture-edit-mode",!0),this.dataSharingService.setDataForKey("openLectureId",this.lecture._id),this.navigateToThisLecture()},n.prototype.unsetAddUnit=function(){this.dataSharingService.setDataForKey("unit-create-mode",!1),this.dataSharingService.setDataForKey("unit-create-type",null)},n.prototype.isUnitCurrentlyOpen=function(n){var l=this.dataSharingService.getDataForKey("unit-edit-mode"),e=this.dataSharingService.getDataForKey("unit-edit-element")===n;return l&&e},n.prototype.unsetUnitEdit=function(){this.dataSharingService.setDataForKey("unit-edit-mode",!1),this.dataSharingService.setDataForKey("unit-edit-element",null)},n.prototype.closeAllForms=function(){this.closeEditLecture(),this.unsetAddUnit(),this.unsetUnitEdit()},n.prototype.isOpened=function(){return this.dataSharingService.getDataForKey("openLectureId")===this.lecture._id},n.prototype.navigateToThisLecture=function(){this.navigateToLecture(this.lecture._id)},n.prototype.navigateToLecture=function(n){var l=this;this.route.url.subscribe(function(e){var t=e.map(function(){return"../"}).join("")||"";l.router.navigate([t+="lecture/"+n],{relativeTo:l.route})})},n.prototype.navigateToUnitEdit=function(n){var l=this;this.route.url.subscribe(function(e){var t=e.map(function(){return"../"}).join("")||"";l.router.navigate([t+="lecture/"+l.lecture._id+"/unit/"+n],{relativeTo:l.route})})},n.prototype.navigateToRoot=function(){var n=this;this.route.url.subscribe(function(l){var e=l.map(function(){return"../"}).join("")||"";n.router.navigate([e],{relativeTo:n.route})})},n.prototype.toggleLecture=function(){this.onCloseAllForms.next();var n=this.dataSharingService.getDataForKey("openLectureId");n&&n===this.lecture._id?(this.dataSharingService.setDataForKey("openLectureId",null),this.navigateToRoot()):(this.dataSharingService.setDataForKey("openLectureId",this.lecture._id),this.navigateToThisLecture())},n.prototype.getUnitModel=function(){return this.unitFactoryService.createNewUnit(this.dataSharingService.getDataForKey("unit-create-type"),this.course)},n}(),cl=e("ZYCi"),sl=t["\u0275crt"]({encapsulation:0,styles:[[".lecture[_ngcontent-%COMP%]   .lecture-header[_ngcontent-%COMP%]{display:flex;align-items:center}.lecture[_ngcontent-%COMP%]   .lecture-header[_ngcontent-%COMP%]   .lecture-menu-button[_ngcontent-%COMP%], .lecture[_ngcontent-%COMP%]   .lecture-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.lecture[_ngcontent-%COMP%]   .lecture-header[_ngcontent-%COMP%]   .flex-spacer[_ngcontent-%COMP%]{flex-grow:1}.lecture[_ngcontent-%COMP%]   .lecture-drag-handle[_ngcontent-%COMP%], .lecture[_ngcontent-%COMP%]   .unit-drag-handle[_ngcontent-%COMP%]{cursor:move;opacity:.2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:.5em}.lecture[_ngcontent-%COMP%]   .lecture-drag-handle[_ngcontent-%COMP%]:hover, .lecture[_ngcontent-%COMP%]   .unit-drag-handle[_ngcontent-%COMP%]:hover{opacity:1}.lecture[_ngcontent-%COMP%]   .open-toggle[_ngcontent-%COMP%]{color:#3f51b5;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.lecture[_ngcontent-%COMP%]   .open-toggle.opened[_ngcontent-%COMP%]{-webkit-transform:rotate(0);transform:rotate(0)}.lecture[_ngcontent-%COMP%]   .lecture-content[_ngcontent-%COMP%]{margin-bottom:20px}.lecture[_ngcontent-%COMP%]   .lecture-content[_ngcontent-%COMP%]   .units[_ngcontent-%COMP%]{margin-top:12px;min-height:64px}.unit[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}.unit[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #e0e0e0}.unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]{height:64px;display:flex;align-items:center}.unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]   .unit-date[_ngcontent-%COMP%], .unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]   .unit-name[_ngcontent-%COMP%], .unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]   .unit-type[_ngcontent-%COMP%]{flex:1}.unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]   .unit-actions[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .unit[_ngcontent-%COMP%]   .unit-content[_ngcontent-%COMP%]   .unit-date[_ngcontent-%COMP%]{color:#757575}.unit-drop-target[_ngcontent-%COMP%]{height:64px;border:1px dashed #e0e0e0}"]],data:{}});function ml(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-lecture-form",[["actionLabel","Update"]],null,[[null,"onSubmit"]],function(n,l,e){var t=!0;return"onSubmit"===l&&(t=!1!==n.component.updateLecture(e)&&t),t},y,_)),t["\u0275did"](1,114688,null,0,C,[u.g],{model:[0,"model"],actionLabel:[1,"actionLabel"],onCancel:[2,"onCancel"]},{onSubmit:"onSubmit"})],function(n,l){var e=l.component;n(l,1,0,e.lecture,"Update",e.closeEditLecture)},null)}function fl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-unit-form",[],null,null,null,Jn,jn)),t["\u0275did"](1,114688,null,0,Nn,[u.g,q.k,q.q,An.b,Z.e,q.o,T.a],{model:[0,"model"],type:[1,"type"],course:[2,"course"],lecture:[3,"lecture"],onDone:[4,"onDone"],onCancel:[5,"onCancel"]},null)],function(n,l){var e=l.component;n(l,1,0,l.parent.context.$implicit,l.parent.context.$implicit.__t,e.course,e.lecture,e.onEditUnitDone,e.closeEditUnit)},null)}function pl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,51,"div",[["class","unit"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,48,"div",[["class","unit-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","unit-drag-handle mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](3,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["drag_handle"])),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","unit-name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""])),(n()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","unit-type"]],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,null,2,"span",[["class","unit-date"]],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,2),(n()(),t["\u0275eld"](12,0,null,null,37,"span",[["class","unit-actions"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,4,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onEditUnit(n.context.$implicit)&&t),t},h.d,h.b)),t["\u0275did"](14,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275eld"](15,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](16,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["edit"])),(n()(),t["\u0275eld"](18,16777216,null,null,5,"button",[["aria-haspopup","true"],["class","unit-menu-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(n,l,e){var o=!0;return"mousedown"===l&&(o=!1!==t["\u0275nov"](n,20)._handleMousedown(e)&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,20)._handleKeydown(e)&&o),"click"===l&&(o=!1!==t["\u0275nov"](n,20)._handleClick(e)&&o),o},h.d,h.b)),t["\u0275did"](19,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](20,1196032,null,0,Qn.f,[x.c,t.ElementRef,t.ViewContainerRef,Qn.b,[2,Qn.c],[8,null],[2,c.b],b.h],{menu:[0,"menu"]},null),(n()(),t["\u0275eld"](21,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](22,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["more_vert"])),(n()(),t["\u0275eld"](24,0,null,null,25,"mat-menu",[],null,null,null,Xn.d,Xn.a)),t["\u0275prd"](6144,null,Qn.h,null,[Qn.c]),t["\u0275did"](26,1294336,[["unitMenu",4]],2,Qn.c,[t.ElementRef,t.NgZone,Qn.a],null,null),t["\u0275qud"](603979776,3,{items:1}),t["\u0275qud"](335544320,4,{lazyContent:0}),(n()(),t["\u0275eld"](29,16777216,null,0,6,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,31).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,31)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,31)._handleTouchend()&&o),"click"===l&&(o=!1!==i.deleteUnit(n.context.$implicit)&&o),o},h.d,h.b)),t["\u0275did"](30,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](31,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](33,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](34,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["delete"])),(n()(),t["\u0275eld"](36,16777216,null,0,6,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,38).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,38)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,38)._handleTouchend()&&o),"click"===l&&(o=!1!==i.duplicateUnit(n.context.$implicit)&&o),o},h.d,h.b)),t["\u0275did"](37,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](38,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](40,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](41,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["content_copy"])),(n()(),t["\u0275eld"](43,16777216,null,0,6,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,45).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,45)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,45)._handleTouchend()&&o),"click"===l&&(o=!1!==i.onExportUnit(n.context.$implicit)&&o),o},h.d,h.b)),t["\u0275did"](44,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](45,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](47,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](48,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["file_download"])),(n()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](51,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0),n(l,16,0),n(l,20,0,t["\u0275nov"](l,26)),n(l,22,0),n(l,26,0),n(l,31,0,t["\u0275unv"](l,31,0,t["\u0275nov"](l,32).transform("lecture.tooltip.delete"))),n(l,34,0),n(l,38,0,t["\u0275unv"](l,38,0,t["\u0275nov"](l,39).transform("lecture.tooltip.duplicate"))),n(l,41,0),n(l,45,0,t["\u0275unv"](l,45,0,t["\u0275nov"](l,46).transform("lecture.tooltip.download"))),n(l,48,0),n(l,51,0,l.context.$implicit&&e.getDataForKey("unit-edit-mode")&&e.getDataForKey("unit-edit-element")===l.context.$implicit)},function(n,l){n(l,2,0,t["\u0275nov"](l,3).inline),n(l,6,0,l.context.$implicit.name),n(l,8,0,"file"==l.context.$implicit.__t?l.context.$implicit.fileUnitType:l.context.$implicit.__t),n(l,10,0,t["\u0275unv"](l,10,0,n(l,11,0,t["\u0275nov"](l.parent.parent.parent,0),l.context.$implicit.updatedAt,"y-MM-dd"))),n(l,13,0,t["\u0275nov"](l,14).disabled||null,"NoopAnimations"===t["\u0275nov"](l,14)._animationMode),n(l,15,0,t["\u0275nov"](l,16).inline),n(l,18,0,t["\u0275nov"](l,19).disabled||null,"NoopAnimations"===t["\u0275nov"](l,19)._animationMode,t["\u0275nov"](l,20).menuOpen||null),n(l,21,0,t["\u0275nov"](l,22).inline),n(l,29,0,t["\u0275nov"](l,30).disabled||null,"NoopAnimations"===t["\u0275nov"](l,30)._animationMode),n(l,33,0,t["\u0275nov"](l,34).inline),n(l,36,0,t["\u0275nov"](l,37).disabled||null,"NoopAnimations"===t["\u0275nov"](l,37)._animationMode),n(l,40,0,t["\u0275nov"](l,41).inline),n(l,43,0,t["\u0275nov"](l,44).disabled||null,"NoopAnimations"===t["\u0275nov"](l,44)._animationMode),n(l,47,0,t["\u0275nov"](l,48).inline)})}function vl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("lecture.noUnits")))})}function hl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-unit-form",[],null,null,null,Jn,jn)),t["\u0275did"](1,114688,null,0,Nn,[u.g,q.k,q.q,An.b,Z.e,q.o,T.a],{model:[0,"model"],type:[1,"type"],course:[2,"course"],lecture:[3,"lecture"],onDone:[4,"onDone"],onCancel:[5,"onCancel"]},null)],function(n,l){var e=l.component;n(l,1,0,e.getUnitModel(),e.getDataForKey("unit-create-type"),e.course,e.lecture,e.onAddUnitDone,e.closeAddUnit)},null)}function gl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[["class","units"]],null,null,null,null,null)),t["\u0275did"](2,606208,null,0,nl.DragulaDirective,[t.ElementRef,ll.DragulaService],{dragula:[0,"dragula"],dragulaModel:[1,"dragulaModel"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](4,802816,null,0,k.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](6,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,hl)),t["\u0275did"](8,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,"units",e.lecture.units),n(l,4,0,e.lecture.units),n(l,6,0,!e.lecture.units.length),n(l,8,0,e.getDataForKey("unit-create-mode")&&e.getDataForKey("unit-create-type"))},null)}function bl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,55,"div",[["class","lecture"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,50,"div",[["class","lecture-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","lecture-drag-handle mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](3,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["drag_handle"])),(n()(),t["\u0275eld"](5,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["class","open-toggle"],["mat-icon-button",""]],[[2,"opened",null],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.toggleLecture()&&t),t},h.d,h.b)),t["\u0275did"](8,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](10,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["arrow_drop_down"])),(n()(),t["\u0275eld"](12,0,null,null,0,"span",[["class","flex-spacer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,16777216,null,null,5,"button",[["aria-haspopup","true"],["class","lecture-menu-button"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(n,l,e){var o=!0;return"mousedown"===l&&(o=!1!==t["\u0275nov"](n,15)._handleMousedown(e)&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,15)._handleKeydown(e)&&o),"click"===l&&(o=!1!==t["\u0275nov"](n,15)._handleClick(e)&&o),o},h.d,h.b)),t["\u0275did"](14,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],null,null),t["\u0275did"](15,1196032,null,0,Qn.f,[x.c,t.ElementRef,t.ViewContainerRef,Qn.b,[2,Qn.c],[8,null],[2,c.b],b.h],{menu:[0,"menu"]},null),(n()(),t["\u0275eld"](16,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](17,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["more_vert"])),(n()(),t["\u0275eld"](19,0,null,null,32,"mat-menu",[],null,null,null,Xn.d,Xn.a)),t["\u0275did"](20,1294336,[["lectureMenu",4]],2,Qn.c,[t.ElementRef,t.NgZone,Qn.a],null,null),t["\u0275qud"](603979776,1,{items:1}),t["\u0275qud"](335544320,2,{lazyContent:0}),t["\u0275prd"](2048,null,Qn.h,null,[Qn.c]),(n()(),t["\u0275eld"](24,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,e){var o=!0,i=n.component;return"click"===l&&(o=!1!==t["\u0275nov"](n,25)._checkDisabled(e)&&o),"mouseenter"===l&&(o=!1!==t["\u0275nov"](n,25)._handleMouseEnter()&&o),"click"===l&&(o=!1!==i.onEditLecture(i.lecture)&&o),o},Xn.c,Xn.b)),t["\u0275did"](25,180224,[[1,4]],0,Qn.d,[t.ElementRef,k.DOCUMENT,b.h,[2,Qn.h]],null,null),(n()(),t["\u0275eld"](26,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](27,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["edit"])),(n()(),t["\u0275ted"](29,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](31,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,e){var o=!0,i=n.component;return"click"===l&&(o=!1!==t["\u0275nov"](n,32)._checkDisabled(e)&&o),"mouseenter"===l&&(o=!1!==t["\u0275nov"](n,32)._handleMouseEnter()&&o),"click"===l&&(o=!1!==i.exportLecture(i.lecture)&&o),o},Xn.c,Xn.b)),t["\u0275did"](32,180224,[[1,4]],0,Qn.d,[t.ElementRef,k.DOCUMENT,b.h,[2,Qn.h]],null,null),(n()(),t["\u0275eld"](33,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](34,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["file_download"])),(n()(),t["\u0275ted"](36,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](38,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,e){var o=!0,i=n.component;return"click"===l&&(o=!1!==t["\u0275nov"](n,39)._checkDisabled(e)&&o),"mouseenter"===l&&(o=!1!==t["\u0275nov"](n,39)._handleMouseEnter()&&o),"click"===l&&(o=!1!==i.duplicateLecture(i.lecture)&&o),o},Xn.c,Xn.b)),t["\u0275did"](39,180224,[[1,4]],0,Qn.d,[t.ElementRef,k.DOCUMENT,b.h,[2,Qn.h]],null,null),(n()(),t["\u0275eld"](40,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](41,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["content_copy"])),(n()(),t["\u0275ted"](43,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](45,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""],["role","menuitem"]],[[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(n,l,e){var o=!0,i=n.component;return"click"===l&&(o=!1!==t["\u0275nov"](n,46)._checkDisabled(e)&&o),"mouseenter"===l&&(o=!1!==t["\u0275nov"](n,46)._handleMouseEnter()&&o),"click"===l&&(o=!1!==i.deleteLecture(i.lecture)&&o),o},Xn.c,Xn.b)),t["\u0275did"](46,180224,[[1,4]],0,Qn.d,[t.ElementRef,k.DOCUMENT,b.h,[2,Qn.h]],null,null),(n()(),t["\u0275eld"](47,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](48,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["delete"])),(n()(),t["\u0275ted"](50,0,[" "," "])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,ml)),t["\u0275did"](53,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,gl)),t["\u0275did"](55,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0),n(l,10,0),n(l,15,0,t["\u0275nov"](l,20)),n(l,17,0),n(l,20,0),n(l,27,0),n(l,34,0),n(l,41,0),n(l,48,0),n(l,53,0,e.isOpened()&&e.getDataForKey("lecture-edit-mode")),n(l,55,0,e.getDataForKey("openLectureId")===e.lecture._id)},function(n,l){var e=l.component;n(l,2,0,t["\u0275nov"](l,3).inline),n(l,6,0,e.lecture.name),n(l,7,0,e.isOpened(),t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline),n(l,13,0,t["\u0275nov"](l,14).disabled||null,"NoopAnimations"===t["\u0275nov"](l,14)._animationMode,t["\u0275nov"](l,15).menuOpen||null),n(l,16,0,t["\u0275nov"](l,17).inline),n(l,24,0,t["\u0275nov"](l,25)._highlighted,t["\u0275nov"](l,25)._triggersSubmenu,t["\u0275nov"](l,25)._getTabIndex(),t["\u0275nov"](l,25).disabled.toString(),t["\u0275nov"](l,25).disabled||null),n(l,26,0,t["\u0275nov"](l,27).inline),n(l,29,0,t["\u0275unv"](l,29,0,t["\u0275nov"](l,30).transform("common.edit"))),n(l,31,0,t["\u0275nov"](l,32)._highlighted,t["\u0275nov"](l,32)._triggersSubmenu,t["\u0275nov"](l,32)._getTabIndex(),t["\u0275nov"](l,32).disabled.toString(),t["\u0275nov"](l,32).disabled||null),n(l,33,0,t["\u0275nov"](l,34).inline),n(l,36,0,t["\u0275unv"](l,36,0,t["\u0275nov"](l,37).transform("common.export"))),n(l,38,0,t["\u0275nov"](l,39)._highlighted,t["\u0275nov"](l,39)._triggersSubmenu,t["\u0275nov"](l,39)._getTabIndex(),t["\u0275nov"](l,39).disabled.toString(),t["\u0275nov"](l,39).disabled||null),n(l,40,0,t["\u0275nov"](l,41).inline),n(l,43,0,t["\u0275unv"](l,43,0,t["\u0275nov"](l,44).transform("common.duplicate"))),n(l,45,0,t["\u0275nov"](l,46)._highlighted,t["\u0275nov"](l,46)._triggersSubmenu,t["\u0275nov"](l,46)._getTabIndex(),t["\u0275nov"](l,46).disabled.toString(),t["\u0275nov"](l,46).disabled||null),n(l,47,0,t["\u0275nov"](l,48).inline),n(l,50,0,t["\u0275unv"](l,50,0,t["\u0275nov"](l,51).transform("common.delete")))})}function Cl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","unit-drop-target"],["dragula","units"]],[[1,"data-lecture-id",0]],null,null,null,null)),t["\u0275did"](1,606208,null,0,nl.DragulaDirective,[t.ElementRef,ll.DragulaService],{dragula:[0,"dragula"],dragulaModel:[1,"dragulaModel"]},null)],function(n,l){n(l,1,0,"units",l.component.lecture.units)},function(n,l){n(l,0,0,l.component.lecture._id)})}function _l(n){return t["\u0275vid"](0,[t["\u0275pid"](0,k.DatePipe,[t.LOCALE_ID]),(n()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](2,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](4,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.lecture),n(l,4,0,e.getDataForKey("openLectureId")&&(e.getDataForKey("openLectureId")!==e.lecture._id||!e.lecture.units.length)&&e.isDraggingUnit())},null)}var yl=e("wuUq"),wl=e("g8Vx"),Sl=e("buEt"),Fl=function(n,l,e,t){return new(e||(e=Promise))(function(o,i){function u(n){try{r(t.next(n))}catch(n){i(n)}}function a(n){try{r(t.throw(n))}catch(n){i(n)}}function r(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(u,a)}r((t=t.apply(n,l||[])).next())})},kl=function(n,l){var e,t,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,t&&(o=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,t=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=l.call(n,u)}catch(n){i=[6,n],t=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Rl=function(){function n(n,l,e,t,o,i,u,a,r,d,c){var s=this;this.route=n,this.router=l,this.lectureService=e,this.courseService=t,this.showProgress=o,this.snackBar=i,this.dialogService=u,this.dragulaService=a,this.userService=r,this.dataSharingService=d,this.notificationService=c,this.fabOpen=!1,this.onCloseAllForms=new Sl.a,this.onReloadCourse=new Sl.a,this.onImportLecture=function(){s.dialogService.chooseFile("Choose a lecture.json to import","/api/import/lecture/"+s.course._id).subscribe(function(n){n.success?(s.reloadCourse(),s.dataSharingService.setDataForKey("unit-edit-element",n.result),s.dataSharingService.setDataForKey("unit-edit-mode",!0),s.snackBar.open("Lecture successfully imported","",{duration:3e3})):n.result&&s.snackBar.open(n.error.message,"",{duration:3e3})})},this.onAddUnit=function(n){s.onCloseAllForms.next(),s.dataSharingService.setDataForKey("unit-create-mode",!0),s.dataSharingService.setDataForKey("unit-create-type",n);var l=s.dataSharingService.getDataForKey("openLectureId");s.route.url.subscribe(function(e){var t=e.map(function(){return"../"}).join("")||"";s.router.navigate([t+="lecture/"+l+"/unit/add/"+n],{relativeTo:s.route})})},this.onImportUnit=function(){var n=s.dataSharingService.getDataForKey("openLectureId");s.dialogService.chooseFile("Choose a unit.json to import","/api/import/unit/"+s.course._id+"/"+n).subscribe(function(n){return Fl(s,void 0,void 0,function(){return kl(this,function(l){return n.success?(this.reloadCourse(),this.dataSharingService.setDataForKey("openLectureId",n.result._id),this.dataSharingService.setDataForKey("lecture-edit-mode",!0),this.snackBar.open("Unit successfully imported","",{duration:3e3})):n.result&&this.snackBar.open(n.error.message,"",{duration:3e3}),[2]})})})},this.closeFab=function(){s.fabOpen=!1},this.onFabClick=function(){s.fabOpen=!s.fabOpen},this.closeAddLecture=function(){s.dataSharingService.setDataForKey("lecture-create-mode",!1)},this.dataSharingService.setDataForKey("onCloseAllForms",this.onCloseAllForms),this.onCloseAllForms.asObservable().subscribe(function(){return s.closeAllForms()}),this.dataSharingService.setDataForKey("onReloadCourse",this.onReloadCourse),this.onReloadCourse.asObservable().subscribe(function(n){return Fl(s,void 0,void 0,function(){return kl(this,function(l){switch(l.label){case 0:return[4,this.reloadCourse()];case 1:return l.sent(),[2,n()]}})})});var m=this.dataSharingService.getDataForKey("course");m?(this.course=m,this.setOpenedLectureAndUnit(),this.setAddLectureIfPresent(),this.setAddUnitIfPresent()):this.getCourse()}return n.prototype.ngOnInit=function(){var n=this;this.dragulaService.setOptions("lectures",{moves:function(n,l,e){return e.classList.contains("lecture-drag-handle")}}),this.dragulaService.setOptions("units",{moves:function(n,l,e){return e.classList.contains("unit-drag-handle")}}),this.dragulaService.dropModel.subscribe(function(l){var e=l[2];switch(l[0]){case"lectures":n.updateLectureOrder();break;case"units":n.updateUnitOrder(),e.dataset.lectureId&&n.updateUnitOrder(e.dataset.lectureId)}})},n.prototype.ngOnDestroy=function(){this.dragulaService.destroy("lectures"),this.dragulaService.destroy("units")},n.prototype.isInMode=function(n,l){return this.dataSharingService.getDataForKey(n+"-"+l+"-mode")||!1},n.prototype.isLectureOpen=function(){return null!==this.dataSharingService.getDataForKey("openLectureId")},n.prototype.getCourse=function(){var n=this;this.route.parent.parent.params.subscribe(function(l){n.courseService.readCourseToEdit(l.id).then(function(l){n.course=l,n.dataSharingService.setDataForKey("course",n.course),n.setOpenedLectureAndUnit(),n.setAddLectureIfPresent(),n.setAddUnitIfPresent()},function(l){n.snackBar.open("Couldn't load Course-Item","",{duration:3e3})})})},n.prototype.setOpenedLectureAndUnit=function(){var n=this;this.route.params.subscribe(function(l){var e=l.lecture;if(e){var t=n.course.lectures.find(function(n){return n._id===e});if(!t)return n.route.url.subscribe(function(l){var e=l.map(function(){return"../"}).join("")||"";n.router.navigate([e],{relativeTo:n.route})});n.dataSharingService.setDataForKey("openLectureId",t._id);var o=l.unit;if(!o)return n.dataSharingService.setDataForKey("unit-edit-mode",!1),void n.dataSharingService.setDataForKey("unit-edit-element",null);var i=t.units.find(function(n){return n._id===o});if(!i)return n.route.url.subscribe(function(l){var t=l.map(function(){return"../"}).join("")||"";n.router.navigate([t+="lecture/"+e],{relativeTo:n.route})});n.dataSharingService.setDataForKey("unit-edit-mode",!0),n.dataSharingService.setDataForKey("unit-edit-element",i)}else n.dataSharingService.setDataForKey("openLectureId",null)})},n.prototype.setAddLectureIfPresent=function(){var n=this;this.route.url.subscribe(function(l){l.length?2===l.length&&"lecture"===l[0].path&&"add"===l[1].path&&n.dataSharingService.setDataForKey("lecture-create-mode",!0):n.dataSharingService.setDataForKey("lecture-create-mode",!1)})},n.prototype.setAddUnitIfPresent=function(){var n=this;this.route.url.subscribe(function(l){if(!l.length)return n.dataSharingService.setDataForKey("unit-create-mode",!1),void n.dataSharingService.setDataForKey("unit-create-type",null);if(-1!==l.map(function(n){return n.path}).join("/").indexOf("/unit/add/")){var e=l[l.length-1].path;n.dataSharingService.setDataForKey("unit-create-mode",!0),n.dataSharingService.setDataForKey("unit-create-type",e)}})},n.prototype.updateLectureOrder=function(){this.courseService.updateItem({_id:this.course._id,lectures:this.course.lectures.map(function(n){return n._id})})},n.prototype.updateUnitOrder=function(n){void 0===n&&(n=null),n||(n=this.dataSharingService.getDataForKey("openLectureId"));var l=this.course.lectures.find(function(l){return l._id===n});l&&this.lectureService.updateItem({_id:l._id,units:l.units.map(function(n){return n._id})})},n.prototype.createLecture=function(n){var l=n.name,e=n.description;return Fl(this,void 0,void 0,function(){var n;return kl(this,function(t){switch(t.label){case 0:return[4,this.lectureService.createItem({courseId:this.course._id,name:l,description:e})];case 1:return n=t.sent(),this.dataSharingService.setDataForKey("lecture-create-mode",!1),[4,this.notificationService.createItem({targetId:n._id,targetType:"lecture",text:"Course "+this.course.name+" has a new lecture."})];case 2:return t.sent(),[4,this.reloadCourse()];case 3:return t.sent(),[2]}})})},n.prototype.reloadCourse=function(){return Fl(this,void 0,void 0,function(){var n;return kl(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=this,[4,this.courseService.readCourseToEdit(this.course._id)];case 1:return n.course=l.sent(),this.dataSharingService.setDataForKey("course",this.course),[3,3];case 2:return l.sent(),this.snackBar.open("Couldn't reload Course","",{duration:3e3}),[3,3];case 3:return[2,this.showProgress.toggleLoadingGlobal(!1)]}})})},n.prototype.onAddLecture=function(){var n=this;this.onCloseAllForms.next(),this.dataSharingService.setDataForKey("openLectureId",null),this.dataSharingService.setDataForKey("lecture-create-mode",!0),this.route.url.subscribe(function(l){var e=l.map(function(){return"../"}).join("")||"";n.router.navigate([e+="lecture/add"],{relativeTo:n.route})})},n.prototype.closeAllForms=function(){this.closeFab(),this.closeAddLecture()},n}(),Il=t["\u0275crt"]({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{min-height:500px}.fab[_ngcontent-%COMP%]{position:fixed;bottom:1ex;right:1ex}@media (min-width:121em){.fab[_ngcontent-%COMP%]{position:absolute}}.mat-fab-menu-spacer[_ngcontent-%COMP%]{display:block;height:4rem}"]],data:{}});function Ol(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-lecture-edit",[],null,null,null,_l,sl)),t["\u0275did"](1,245760,null,0,dl,[cl.a,q.m,q.q,L.a,U.a,el.a,ll.DragulaService,q.i,q.j,ol.a,tl.a,il.a,cl.l,q.o,ul.a],{lecture:[0,"lecture"],course:[1,"course"]},null)],function(n,l){n(l,1,0,l.context.$implicit,l.component.course)},null)}function xl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("lecture.text.noLecture")))})}function Ml(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-lecture-form",[["actionLabel","Add"]],null,[[null,"onSubmit"]],function(n,l,e){var t=!0;return"onSubmit"===l&&(t=!1!==n.component.createLecture(e)&&t),t},y,_)),t["\u0275did"](1,114688,null,0,C,[u.g],{actionLabel:[0,"actionLabel"],onCancel:[1,"onCancel"]},{onSubmit:"onSubmit"})],function(n,l){n(l,1,0,"Add",l.component.closeAddLecture)},null)}function Pl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","container"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeFab()&&t),t},null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","lectures"]],null,null,null,null,null)),t["\u0275did"](2,606208,null,0,nl.DragulaDirective,[t.ElementRef,ll.DragulaService],{dragula:[0,"dragula"],dragulaModel:[1,"dragulaModel"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ol)),t["\u0275did"](4,802816,null,0,k.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](6,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](8,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,"lectures",e.course.lectures),n(l,4,0,e.course.lectures),n(l,6,0,!e.course.lectures.length),n(l,8,0,e.isInMode("lecture","create"))},null)}function Dl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onImportUnit()&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.import")))})}function Tl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("task")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.addTasks")))})}function El(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("file")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.addFiles")))})}function ql(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("code-kata")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.addCodeKata")))})}function Ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("video")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.addVideos")))})}function Ul(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("free-text")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.addFreeText")))})}function Nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddUnit("assignment")&&t),t},null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],null,function(n,l){n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform("unit.assignment.add")))})}function Al(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Pl)),t["\u0275did"](1,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","mat-fab-menu-spacer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,22,"app-mat-fab-menu",[["class","fab"]],null,null,null,yl.b,yl.a)),t["\u0275did"](4,114688,null,0,wl.a,[],{fabTooltip:[0,"fabTooltip"],disabled:[1,"disabled"],open:[2,"open"],onClick:[3,"onClick"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,0,1,null,Dl)),t["\u0275did"](7,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Tl)),t["\u0275did"](9,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,El)),t["\u0275did"](11,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,ql)),t["\u0275did"](13,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Ll)),t["\u0275did"](15,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Ul)),t["\u0275did"](17,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,Nl)),t["\u0275did"](19,16384,null,0,k.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](20,0,null,0,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onImportLecture()&&t),t},null,null)),(n()(),t["\u0275ted"](21,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](23,0,null,0,2,"div",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onAddLecture()&&t),t},null,null)),(n()(),t["\u0275ted"](24,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef])],function(n,l){var e=l.component;n(l,1,0,e.course),n(l,4,0,t["\u0275unv"](l,4,0,t["\u0275nov"](l,5).transform("unit.addContent")),e.isInMode("lecture","create")||e.isInMode("lecture","edit")||e.isInMode("unit","create")||e.isInMode("unit","edit"),e.fabOpen,e.onFabClick),n(l,7,0,e.isLectureOpen()),n(l,9,0,e.isLectureOpen()),n(l,11,0,e.isLectureOpen()),n(l,13,0,e.isLectureOpen()),n(l,15,0,e.isLectureOpen()),n(l,17,0,e.isLectureOpen()),n(l,19,0,e.isLectureOpen())},function(n,l){n(l,21,0,t["\u0275unv"](l,21,0,t["\u0275nov"](l,22).transform("lecture.text.import"))),n(l,24,0,t["\u0275unv"](l,24,0,t["\u0275nov"](l,25).transform("lecture.text.add")))})}var jl=t["\u0275ccf"]("app-course-manage-content",Rl,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-course-manage-content",[],null,null,null,Al,Il)),t["\u0275did"](1,245760,null,0,Rl,[cl.a,cl.l,q.m,q.f,L.a,An.b,el.a,ll.DragulaService,tl.a,il.a,q.o],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Vl=e("t68o"),Kl=e("xYTU"),Bl=e("NcP4"),Zl=e("oR7F"),$l=e("AlUf"),Gl=e("plse"),zl=e("yGmH"),Wl=e("Zufr"),Yl=e("giSo"),Hl=e("xtN6"),Jl=e("KmGU"),Ql=e("o1ow"),Xl=e("73OY"),ne=e("w/UW"),le=e("8wjU"),ee=e("F1N0"),te=e("yrAr"),oe=e("rMcs"),ie=e("W8s6"),ue=e("svpM"),ae=e("FbN9"),re=e("8mMr"),de=t["\u0275crt"]({encapsulation:0,styles:[[".toolbar-fill[_ngcontent-%COMP%]{flex:1 1 auto}"]],data:{}});function ce(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{freeTextEditor:0}),(n()(),t["\u0275eld"](1,0,null,null,16,"mat-toolbar",[["class","mat-dialog-title mat-toolbar"],["matDialogTitle",""],["role","heading"]],[[8,"id",0],[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,ae.b,ae.a)),t["\u0275did"](2,81920,null,0,Z.m,[[2,Z.l],t.ElementRef,Z.e],null,null),t["\u0275did"](3,4243456,null,1,re.a,[t.ElementRef,s.a,k.DOCUMENT],null,null),t["\u0275qud"](603979776,2,{_toolbarRows:1}),(n()(),t["\u0275eld"](5,0,null,1,12,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),t["\u0275did"](6,16384,[[2,4]],0,re.c,[],null,null),(n()(),t["\u0275eld"](7,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](10,0,null,null,0,"span",[["class","toolbar-fill"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,16777216,null,null,6,"button",[["color","primary"],["mat-mini-fab",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,e){var o=!0,i=n.component;return"longpress"===l&&(o=!1!==t["\u0275nov"](n,13).show()&&o),"keydown"===l&&(o=!1!==t["\u0275nov"](n,13)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t["\u0275nov"](n,13)._handleTouchend()&&o),"click"===l&&(o=!1!==i.onCloseClick()&&o),o},h.d,h.b)),t["\u0275did"](12,180224,null,0,g.b,[t.ElementRef,s.a,b.h,[2,m.a]],{color:[0,"color"]},null),t["\u0275did"](13,147456,null,0,O.d,[x.c,t.ElementRef,M.b,t.ViewContainerRef,t.NgZone,s.a,b.c,b.h,O.b,[2,c.b],[2,O.a]],{message:[0,"message"]},null),t["\u0275pid"](131072,v.i,[v.j,t.ChangeDetectorRef]),(n()(),t["\u0275eld"](15,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,w.b,w.a)),t["\u0275did"](16,638976,null,0,S.a,[t.ElementRef,S.c,[8,null]],null,null),(n()(),t["\u0275ted"](-1,0,["close"])),(n()(),t["\u0275eld"](18,0,null,null,1,"app-free-text-unit-editor",[],null,null,null,bn,gn)),t["\u0275did"](19,4243456,[[1,4]],0,hn,[T.a],{unitForm:[0,"unitForm"]},null)],function(n,l){var e=l.component;n(l,2,0),n(l,12,0,"primary"),n(l,13,0,t["\u0275unv"](l,13,0,t["\u0275nov"](l,14).transform("common.tooltip.quitFullscreenMode"))),n(l,16,0),n(l,19,0,e.data.unitForm)},function(n,l){n(l,1,0,t["\u0275nov"](l,2).id,t["\u0275nov"](l,3)._toolbarRows.length,!t["\u0275nov"](l,3)._toolbarRows.length),n(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform("common.fullscreenMode"))),n(l,11,0,t["\u0275nov"](l,12).disabled||null,"NoopAnimations"===t["\u0275nov"](l,12)._animationMode),n(l,15,0,t["\u0275nov"](l,16).inline)})}var se=t["\u0275ccf"]("app-free-text-unit-editor-dialog",Cn,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-free-text-unit-editor-dialog",[],null,null,null,ce,de)),t["\u0275did"](1,114688,null,0,Cn,[Z.l,Z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),me=e("4tE/"),fe=e("M2Lx"),pe=e("0YUy"),ve=e("wmQ5"),he=e("uGex"),ge=e("ZYjt"),be=e("t/Na"),Ce=e("luWi"),_e=e("0NUV"),ye=e("DoSW"),we=e("Avrn"),Se={roles:["teacher","admin"]},Fe={roles:["teacher","admin"]},ke={roles:["teacher","admin"]},Re={roles:["teacher","admin"]},Ie={roles:["teacher","admin"]},Oe=function(){},xe=e("Ttb/"),Me=e("4c35"),Pe=e("FVSy"),De=e("YhbO"),Te=e("LC5p"),Ee=e("0/Q6"),qe=e("Z+uX"),Le=e("Lwpp"),Ue=e("Blfk"),Ne=e("/dO6"),Ae=e("6Wmm"),je=e("Jf/Y"),Ve=e("S6T7"),Ke=e("o6Sk"),Be=e("ItUW"),Ze=e("PCNd"),$e=e("iAM3"),Ge=e("27w/"),ze=e("SOr3"),We=e("vU1U"),Ye=(e("mrSG"),e("n6gG"),function(){}),He=function(){},Je=e("JngI"),Qe=e("YSh2");e.d(l,"CourseManageContentModuleNgFactory",function(){return Xe});var Xe=t["\u0275cmf"](o,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,jl,Vl.a,In.b,In.a,Kl.a,Kl.b,Bl.a,Zl.a,$l.a,Gl.a,zl.a,Wl.a,Yl.a,Hl.a,Jl.a,Ql.a,Xl.b,ne.a,le.a,ee.a,te.a,oe.a,ie.a,ue.a,se]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,k.NgLocalization,k.NgLocaleLocalization,[t.LOCALE_ID,[2,k["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,ll.DragulaService,ll.DragulaService,[]),t["\u0275mpd"](4608,u.B,u.B,[]),t["\u0275mpd"](4608,u.g,u.g,[]),t["\u0275mpd"](4608,x.c,x.c,[x.i,x.e,t.ComponentFactoryResolver,x.h,x.f,t.Injector,t.NgZone,k.DOCUMENT,c.b]),t["\u0275mpd"](5120,x.j,x.k,[x.c]),t["\u0275mpd"](5120,me.b,me.c,[x.c]),t["\u0275mpd"](4608,fe.c,fe.c,[]),t["\u0275mpd"](5120,Z.c,Z.d,[x.c]),t["\u0275mpd"](4608,Z.e,Z.e,[x.c,t.Injector,[2,k.Location],[2,Z.b],Z.c,[3,Z.e],x.e]),t["\u0275mpd"](4608,Rn.i,Rn.i,[]),t["\u0275mpd"](5120,Rn.a,Rn.b,[x.c]),t["\u0275mpd"](4608,d.d,d.d,[]),t["\u0275mpd"](5120,Qn.b,Qn.g,[x.c]),t["\u0275mpd"](4608,d.c,pe.a,[v.j,s.a]),t["\u0275mpd"](4608,ve.f,ve.f,[]),t["\u0275mpd"](5120,he.a,he.b,[x.c]),t["\u0275mpd"](4608,ge.HAMMER_GESTURE_CONFIG,d.e,[[2,d.i],[2,d.n]]),t["\u0275mpd"](5120,O.b,O.c,[x.c]),t["\u0275mpd"](4608,be.i,be.o,[k.DOCUMENT,t.PLATFORM_ID,be.m]),t["\u0275mpd"](4608,be.p,be.p,[be.i,be.n]),t["\u0275mpd"](5120,be.a,function(n){return[n]},[be.p]),t["\u0275mpd"](4608,be.l,be.l,[]),t["\u0275mpd"](6144,be.j,null,[be.l]),t["\u0275mpd"](4608,be.h,be.h,[be.j]),t["\u0275mpd"](6144,be.b,null,[be.h]),t["\u0275mpd"](4608,be.f,be.k,[be.b,t.Injector]),t["\u0275mpd"](4608,be.c,be.c,[be.f]),t["\u0275mpd"](4608,el.a,el.a,[Z.e]),t["\u0275mpd"](4608,Ce.LightboxConfig,Ce.LightboxConfig,[]),t["\u0275mpd"](4608,_e.LightboxEvent,_e.LightboxEvent,[]),t["\u0275mpd"](4608,ye.Lightbox,ye.Lightbox,[t.ComponentFactoryResolver,t.Injector,t.ApplicationRef,Ce.LightboxConfig,_e.LightboxEvent,ge.DOCUMENT]),t["\u0275mpd"](4608,_e.LightboxWindowRef,_e.LightboxWindowRef,[]),t["\u0275mpd"](4608,T.a,T.a,[u.g,q.k,q.q,U.a,Z.e,q.o]),t["\u0275mpd"](1073742336,k.CommonModule,k.CommonModule,[]),t["\u0275mpd"](1073742336,cl.p,cl.p,[[2,cl.v],[2,cl.l]]),t["\u0275mpd"](1073742336,Oe,Oe,[]),t["\u0275mpd"](1073742336,xe.DragulaModule,xe.DragulaModule,[]),t["\u0275mpd"](1073742336,u.z,u.z,[]),t["\u0275mpd"](1073742336,u.n,u.n,[]),t["\u0275mpd"](1073742336,u.w,u.w,[]),t["\u0275mpd"](1073742336,c.a,c.a,[]),t["\u0275mpd"](1073742336,d.n,d.n,[[2,d.f]]),t["\u0275mpd"](1073742336,s.b,s.b,[]),t["\u0275mpd"](1073742336,d.z,d.z,[]),t["\u0275mpd"](1073742336,d.x,d.x,[]),t["\u0275mpd"](1073742336,d.u,d.u,[]),t["\u0275mpd"](1073742336,Me.g,Me.g,[]),t["\u0275mpd"](1073742336,M.a,M.a,[]),t["\u0275mpd"](1073742336,x.g,x.g,[]),t["\u0275mpd"](1073742336,me.e,me.e,[]),t["\u0275mpd"](1073742336,g.c,g.c,[]),t["\u0275mpd"](1073742336,Pe.g,Pe.g,[]),t["\u0275mpd"](1073742336,fe.d,fe.d,[]),t["\u0275mpd"](1073742336,tn.c,tn.c,[]),t["\u0275mpd"](1073742336,Z.k,Z.k,[]),t["\u0275mpd"](1073742336,b.a,b.a,[]),t["\u0275mpd"](1073742336,Rn.j,Rn.j,[]),t["\u0275mpd"](1073742336,De.c,De.c,[]),t["\u0275mpd"](1073742336,F.b,F.b,[]),t["\u0275mpd"](1073742336,r.d,r.d,[]),t["\u0275mpd"](1073742336,S.b,S.b,[]),t["\u0275mpd"](1073742336,p.c,p.c,[]),t["\u0275mpd"](1073742336,f.c,f.c,[]),t["\u0275mpd"](1073742336,d.p,d.p,[]),t["\u0275mpd"](1073742336,Te.b,Te.b,[]),t["\u0275mpd"](1073742336,Ee.d,Ee.d,[]),t["\u0275mpd"](1073742336,Qn.e,Qn.e,[]),t["\u0275mpd"](1073742336,d.B,d.B,[]),t["\u0275mpd"](1073742336,d.r,d.r,[]),t["\u0275mpd"](1073742336,qe.b,qe.b,[]),t["\u0275mpd"](1073742336,Le.d,Le.d,[]),t["\u0275mpd"](1073742336,ve.g,ve.g,[]),t["\u0275mpd"](1073742336,I.c,I.c,[]),t["\u0275mpd"](1073742336,he.d,he.d,[]),t["\u0275mpd"](1073742336,xn.b,xn.b,[]),t["\u0275mpd"](1073742336,An.e,An.e,[]),t["\u0275mpd"](1073742336,mn.j,mn.j,[]),t["\u0275mpd"](1073742336,re.b,re.b,[]),t["\u0275mpd"](1073742336,O.e,O.e,[]),t["\u0275mpd"](1073742336,Ue.c,Ue.c,[]),t["\u0275mpd"](1073742336,Ne.d,Ne.d,[]),t["\u0275mpd"](1073742336,Ae.b,Ae.b,[]),t["\u0275mpd"](1073742336,je.a,je.a,[]),t["\u0275mpd"](1073742336,be.e,be.e,[]),t["\u0275mpd"](1073742336,be.d,be.d,[]),t["\u0275mpd"](1073742336,Ve.FileUploadModule,Ve.FileUploadModule,[]),t["\u0275mpd"](1073742336,Ke.a,Ke.a,[]),t["\u0275mpd"](1073742336,v.g,v.g,[]),t["\u0275mpd"](1073742336,Be.a,Be.a,[]),t["\u0275mpd"](1073742336,Ze.a,Ze.a,[]),t["\u0275mpd"](1073742336,$e.LightboxModule,$e.LightboxModule,[]),t["\u0275mpd"](1073742336,Ge.a,Ge.a,[]),t["\u0275mpd"](1073742336,ze.a,ze.a,[]),t["\u0275mpd"](1073742336,We.a,We.a,[]),t["\u0275mpd"](1073742336,Ye,Ye,[]),t["\u0275mpd"](1073742336,He,He,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,cl.j,function(){return[[{path:"",component:Rl,canActivate:[we.a],data:Se},{path:"lecture/add",pathMatch:"full",component:Rl,canActivate:[we.a],data:Fe},{path:"lecture/:lecture",component:Rl,canActivate:[we.a],data:ke},{path:"lecture/:lecture/unit/add/:type",pathMatch:"full",component:Rl,canActivate:[we.a],data:Re},{path:"lecture/:lecture/unit/:unit",component:Rl,canActivate:[we.a],data:Ie}],[{path:"",component:Je.a,canActivate:[we.a],data:ze.b}]]},[]),t["\u0275mpd"](256,d.g,d.k,[]),t["\u0275mpd"](256,Ne.a,{separatorKeyCodes:[Qe.f]},[]),t["\u0275mpd"](256,be.m,"XSRF-TOKEN",[]),t["\u0275mpd"](256,be.n,"X-XSRF-TOKEN",[])])})}}]);